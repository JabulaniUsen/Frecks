(()=>{var e={};e.id=556,e.ids=[556],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},36531:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(21113),r(84752),r(96560);var a=r(23191),s=r(88716),i=r(37922),n=r.n(i),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["invoice",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,21113)),"/Users/mac/Desktop/Client projects/frecks-new/app/invoice/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,24697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,84752)),"/Users/mac/Desktop/Client projects/frecks-new/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,96560)),"/Users/mac/Desktop/Client projects/frecks-new/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,24697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/mac/Desktop/Client projects/frecks-new/app/invoice/[id]/page.tsx"],m="/invoice/[id]/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/invoice/[id]/page",pathname:"/invoice/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},56094:(e,t,r)=>{Promise.resolve().then(r.bind(r,19086))},19086:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var a=r(10326),s=r(35047),i=r(17577),n=r(20108),l=r(91664),o=r(38443),d=r(76253),c=r(77506),m=r(86333);let u=(0,r(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var x=r(32933),p=r(21985),h=r(31540),f=r(37358),g=r(77636),b=r(90434),y=r(2453),v=r(58407),w=r(85999);function j(){let e=(0,s.useParams)();(0,s.useRouter)();let t=e.id,[r,j]=(0,i.useState)(!1),{data:_,isLoading:k,error:N}=(0,n.a)({queryKey:["order",t],queryFn:()=>(0,d.HG)(t),enabled:!!t}),q=async(e,t)=>{try{let r=_?.tickets?.find(t=>t.id===e),a=r?.qr_code_data?.qrCodeImageUrl||r?.qr_code_data?.qrCodeImage;if(!r||!a){w.Am.error("QR code not available");return}let s=window.open("","_blank");if(!s){w.Am.error("Please allow popups to download ticket");return}let i=_?.event;s.document.write(`
        <!DOCTYPE html>
        <html>
          <head>
            <title>Ticket - ${i?.title}</title>
            <style>
              body {
                font-family: Arial, sans-serif;
                max-width: 800px;
                margin: 0 auto;
                padding: 20px;
              }
              .ticket {
                border: 2px solid #000;
                border-radius: 8px;
                padding: 30px;
                text-align: center;
              }
              .ticket-header {
                margin-bottom: 20px;
              }
              .ticket-title {
                font-size: 24px;
                font-weight: bold;
                margin-bottom: 10px;
              }
              .qr-code {
                margin: 20px 0;
              }
              .qr-code img {
                max-width: 300px;
                height: auto;
              }
              .ticket-info {
                margin-top: 20px;
                text-align: left;
              }
              .ticket-info p {
                margin: 5px 0;
              }
            </style>
          </head>
          <body>
            <div class="ticket">
              <div class="ticket-header">
                <h1 class="ticket-title">${i?.title||"Event Ticket"}</h1>
                <p><strong>Ticket Type:</strong> ${t}</p>
              </div>
              <div class="qr-code">
                <img src="${a}" alt="QR Code" />
              </div>
              <div class="ticket-info">
                <p><strong>Order ID:</strong> ${_?.id}</p>
                <p><strong>Ticket ID:</strong> ${e}</p>
                <p><strong>Date:</strong> ${i?.date?(0,y.WU)(new Date(i.date),"MMM d, yyyy • h:mm a"):"N/A"}</p>
                <p><strong>Location:</strong> ${i?.location||"N/A"}</p>
                <p><strong>Name:</strong> ${_?.full_name}</p>
                <p><strong>Email:</strong> ${_?.email}</p>
              </div>
            </div>
            <script>
              window.onload = function() {
                window.print();
              }
            </script>
          </body>
        </html>
      `),s.document.close()}catch(e){console.error("Error downloading ticket:",e),w.Am.error("Failed to download ticket")}};if(k)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(c.Z,{className:"w-8 h-8 animate-spin"})});if(N||!_)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Order not found"}),a.jsx(b.default,{href:"/",children:a.jsx(l.z,{children:"Back to Home"})})]})});let C=_.event,P=_.tickets||[],M=_.total_amount-200;return"paid"!==_.payment_status?(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[a.jsx(v.default,{}),a.jsx("main",{className:"pt-20",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-2xl mx-auto bg-card rounded-2xl border border-border p-8 text-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-yellow-500/10 flex items-center justify-center mx-auto mb-6",children:a.jsx(c.Z,{className:"w-10 h-10 text-yellow-600 animate-spin"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Payment Pending"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Your order is being processed. Please wait for payment confirmation."}),(0,a.jsxs)(o.C,{className:"mb-4",variant:"outline",children:["Order Status: ",_.payment_status]}),a.jsx("div",{className:"mt-6",children:a.jsx(b.default,{href:"/",children:a.jsx(l.z,{variant:"outline",children:"Back to Home"})})})]})})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[a.jsx(v.default,{}),a.jsx("main",{className:"pt-20",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[a.jsx(b.default,{href:"/",children:a.jsx(l.z,{variant:"ghost",size:"icon",children:a.jsx(m.Z,{className:"w-5 h-5"})})}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>{let e=window.location.href;navigator.clipboard.writeText(e).then(()=>{w.Am.success("Invoice URL copied to clipboard!")}).catch(()=>{w.Am.error("Failed to copy URL")})},className:"gap-2",children:[a.jsx(u,{className:"w-4 h-4"}),"Copy Invoice"]}),(0,a.jsxs)(o.C,{className:"bg-green-500 text-white",children:[a.jsx(x.Z,{className:"w-3 h-3 mr-1"}),"Paid"]})]})]}),r&&a.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-xl p-6 mb-8",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 lg:w-12 lg:h-12 rounded-full bg-green-500 flex items-center justify-center",children:a.jsx(x.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"lg:text-xl font-bold text-green-600 mb-1",children:"Payment Successful!"}),a.jsx("p",{className:"text-muted-foreground text-sm lg:text-base",children:"Your tickets have been confirmed. Show these QR codes at the event."})]})]})}),(0,a.jsxs)("div",{className:"bg-card rounded-2xl border border-border p-6 mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Your Tickets (",P.length,")"]}),a.jsx("div",{className:"space-y-6",children:P.map((e,t)=>{let r=e.ticket_type,s=e.qr_code_data?.qrCodeImageUrl||e.qr_code_data?.qrCodeImage;return(0,a.jsxs)("div",{className:"border border-border rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(p.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("h3",{className:"text-lg font-semibold",children:[r?.name||"Ticket"," #",t+1]})]}),r?.description&&a.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2 font-mono",children:["Ticket ID: ",e.id.slice(0,8),"..."]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-lg font-bold text-primary",children:r?.is_free?"Free":`₦${r?.price||0}`})})]}),s?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg border-2 border-border",children:a.jsx("img",{src:s,alt:"QR Code",className:"w-48 h-48"})}),(0,a.jsxs)(l.z,{variant:"outline",onClick:()=>q(e.id,r?.name||"Ticket"),children:[a.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Download Ticket"]})]}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"QR code not available"})]},e.id)})})]}),(0,a.jsxs)("div",{className:"bg-card rounded-2xl border border-border p-6 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Ticket Details"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Date"}),a.jsx("p",{className:"font-semibold",children:(0,y.WU)(new Date(_.created_at),"MMM d, yyyy • h:mm a")})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Name"}),a.jsx("p",{className:"font-semibold",children:_.full_name})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Email"}),a.jsx("p",{className:"font-semibold",children:_.email})]})]})]}),C&&(0,a.jsxs)("div",{className:"bg-card rounded-2xl border border-border p-6 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Event Information"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-xl font-semibold mb-2",children:C.title}),a.jsx(o.C,{className:"mb-3",children:C.category})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(f.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Date & Time"}),a.jsx("p",{className:"font-semibold",children:(0,y.WU)(new Date(C.date),"MMM d, yyyy • h:mm a")})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(g.Z,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),a.jsx("p",{className:"font-semibold",children:C.location})]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-card rounded-2xl border border-border p-6 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Payment Summary"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,a.jsxs)("span",{className:"font-medium",children:["₦",M.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Service Charge"}),(0,a.jsxs)("span",{className:"font-medium",children:["₦",200..toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between pt-2 border-t border-border",children:[a.jsx("span",{className:"font-semibold",children:"Total Paid"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-primary",children:["₦",_.total_amount.toLocaleString()]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx(b.default,{href:"/",className:"flex-1",children:a.jsx(l.z,{variant:"outline",className:"w-full text-xs",children:"Browse More Events"})}),(0,a.jsxs)(l.z,{variant:"hero",onClick:()=>{P.forEach((e,t)=>{let r=e.ticket_type;(e.qr_code_data?.qrCodeImageUrl||e.qr_code_data?.qrCodeImage)&&setTimeout(()=>{q(e.id,r?.name||"Ticket")},1e3*t)}),w.Am.success("Opening all tickets for download...")},children:[a.jsx(h.Z,{className:"w-4 h-4 mr-2"}),a.jsx("span",{className:"text-xs",children:"Download All Tickets"})]})]})]})})})]})}},86333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37358:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},31540:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},77506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},77636:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},21985:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(62881).Z)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},38443:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var a=r(10326);r(17577);var s=r(79360),i=r(51223);let n=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...r}){return a.jsx("div",{className:(0,i.cn)(n({variant:t}),e),...r})}},76253:(e,t,r)=>{"use strict";r.d(t,{AW:()=>y,DK:()=>m,HG:()=>l,IP:()=>b,Q6:()=>x,Qn:()=>o,TX:()=>c,T_:()=>f,Y:()=>n,Y9:()=>_,ZD:()=>d,fX:()=>w,ks:()=>u,nk:()=>i,pj:()=>g,sN:()=>j,vw:()=>s,wY:()=>p,z8:()=>h,zk:()=>v});var a=r(2777);let s=async()=>{let e=new Date().toISOString(),{data:t,error:r}=await a.supabase.from("events").select("*, ticket_types(*)").eq("status","active").gte("date",e).order("created_at",{ascending:!1});if(r)throw r;return t},i=async e=>{let t=new Date().toISOString(),r=a.supabase.from("events").select("*, ticket_types(*), creator:users!events_creator_id_fkey(school)").eq("status","active").gte("date",t);if(e.search&&e.search.trim()){let t=e.search.trim().replace(/%/g,"\\%").replace(/_/g,"\\_");r=r.or(`title.ilike.%${t}%,description.ilike.%${t}%`)}e.category&&"all"!==e.category&&(r=r.eq("category",e.category)),e.location&&e.location.trim()&&(r=r.ilike("location",`%${e.location}%`)),e.dateFrom&&(r=r.gte("date",e.dateFrom)),e.dateTo&&(r=r.lte("date",e.dateTo)),r=r.order("date",{ascending:!0});let{data:s,error:i}=await r;if(i)throw i;let n=s||[];return e.school&&"all"!==e.school&&(n=n.filter(t=>{let r=t.creator;return r?.school===e.school})),n},n=async e=>{let{data:t,error:r}=await a.supabase.from("events").select("*, ticket_types(*)").eq("id",e).single();if(r)throw r;return t},l=async e=>{let{data:t,error:r}=await a.supabase.from("orders").select("*, event:events(*), tickets(*, ticket_type:ticket_types(*))").eq("id",e).single();if(r)throw r;return t},o=async e=>{let{data:t,error:r}=await a.supabase.from("tickets").select("*, event:events(*), ticket_type:ticket_types(*)").eq("id",e).single();if(r)throw r;return t},d=async e=>{let{data:t,error:r}=await a.supabase.from("orders").select("id").eq("user_id",e).eq("payment_status","paid");if(r)throw r;if(!t||0===t.length)return[];let s=t.map(e=>e.id),{data:i,error:n}=await a.supabase.from("tickets").select("*, event:events(*), ticket_type:ticket_types(*), order:orders(*)").eq("user_id",e).in("order_id",s).order("created_at",{ascending:!1});if(n)throw n;return i||[]},c=async e=>{let t=new Date().toISOString(),{data:r,error:s}=await a.supabase.from("events").select("*, ticket_types(*)").eq("creator_id",e).gte("date",t).order("date",{ascending:!0});if(s)throw s;return r},m=async e=>{let t=new Date().toISOString(),{data:r,error:s}=await a.supabase.from("events").select("*, ticket_types(*)").eq("creator_id",e).lt("date",t).order("date",{ascending:!1});if(s)throw s;return r},u=async e=>{let{data:t,error:r}=await a.supabase.from("creator_profiles").select("*").eq("user_id",e).maybeSingle();if(r)throw r;return t||null},x=async e=>{let{data:t,error:r}=await a.supabase.from("orders").select("*, tickets(*)").eq("event_id",e).eq("payment_status","paid");if(r)throw r;let{data:s,error:i}=await a.supabase.from("tickets").select("*, ticket_type:ticket_types(*)").eq("event_id",e);if(i)throw i;return{orders:t||[],tickets:s||[]}},p=async e=>{let{data:t,error:r}=await a.supabase.from("wallet_transactions").select("*").eq("creator_id",e).order("created_at",{ascending:!1});if(r)throw r;return t},h=async e=>{let{data:t,error:r}=await a.supabase.from("withdrawals").select("*").eq("creator_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]},f=async()=>{let{data:e,error:t}=await a.supabase.from("withdrawals").select("*, creator:users!withdrawals_creator_id_fkey(id, email, full_name, school)").order("created_at",{ascending:!1});if(t)throw t;return e||[]},g=async e=>{let{data:t,error:r}=await a.supabase.from("creator_profiles").select("account_balance, bank_account_name, bank_account_number, bank_name, bank_code, is_bank_verified").eq("user_id",e).single();if(r)throw r;return t},b=async()=>{let{data:e,error:t}=await a.supabase.from("events").select("*, ticket_types(*), creator:users!events_creator_id_fkey(id, email, full_name, school)").order("created_at",{ascending:!1});if(t)throw t;return e||[]},y=async()=>{let{data:e,error:t}=await a.supabase.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},v=async()=>{let{data:e,error:t}=await a.supabase.from("orders").select("*, event:events(id, title, creator:users!events_creator_id_fkey(id, email, full_name)), user:users(id, email, full_name)").order("created_at",{ascending:!1});if(t)throw t;return e||[]},w=async()=>{let{data:e,error:t}=await a.supabase.from("tickets").select("*, event:events(id, title), ticket_type:ticket_types(id, name, price, is_free), user:users(id, email, full_name), order:orders(id, payment_status)").order("created_at",{ascending:!1});if(t)throw console.error("Error fetching all tickets:",t),t;return e||[]},j=async()=>{let{data:e,error:t}=await a.supabase.from("users").select("*, creator_profile:creator_profiles(*)").eq("role","creator").order("created_at",{ascending:!1});if(t)throw t;return e||[]},_=async()=>{let{data:e,error:t}=await a.supabase.from("events").select("status");if(t)throw t;let r={active:0,draft:0,completed:0,cancelled:0};e?.forEach(e=>{e.status in r&&r[e.status]++});let{data:s,error:i}=await a.supabase.from("users").select("role, banned");if(i)throw i;let n={user:0,creator:0,admin:0},l=0;s?.forEach(e=>{e.role in n&&n[e.role]++,e.banned&&l++});let{data:o,error:d}=await a.supabase.from("orders").select("total_amount, created_at").eq("payment_status","paid");if(d)throw d;let c=o?.reduce((e,t)=>e+parseFloat(t.total_amount||0),0)||0,m=new Date,u=new Date(m.getFullYear(),m.getMonth(),1).toISOString(),x=o?.filter(e=>e.created_at>=u).reduce((e,t)=>e+parseFloat(t.total_amount||0),0)||0,{data:p,error:h}=await a.supabase.from("tickets").select("id");if(h)throw h;let f=p?.length||0,{data:g,error:b}=await a.supabase.from("users").select("id").eq("role","creator");if(b)throw b;let y=g?.length||0;return{events:{total:e?.length||0,byStatus:r},users:{total:s?.length||0,byRole:n,banned:l},revenue:{total:c,thisMonth:x},tickets:{totalSold:f},organizers:{active:y}}}},21113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/Users/mac/Desktop/Client projects/frecks-new/app/invoice/[id]/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,759,65,453,561,812,643,108,236,407],()=>r(36531));module.exports=a})();