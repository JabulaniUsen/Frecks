(()=>{var e={};e.id=232,e.ids=[232],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},1164:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(60900),r(84752),r(96560);var s=r(23191),a=r(88716),i=r(37922),n=r.n(i),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["creator",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,60900)),"/Users/mac/Desktop/Client projects/frecks-new/app/dashboard/creator/create/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,24697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,84752)),"/Users/mac/Desktop/Client projects/frecks-new/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,96560)),"/Users/mac/Desktop/Client projects/frecks-new/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,24697))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/mac/Desktop/Client projects/frecks-new/app/dashboard/creator/create/page.tsx"],m="/dashboard/creator/create/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/creator/create/page",pathname:"/dashboard/creator/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10248:(e,t,r)=>{Promise.resolve().then(r.bind(r,65270))},65270:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var s=r(10326),a=r(17577),i=r(35047),n=r(74723),o=r(74064),l=r(770),d=r(10119),c=r(91664),m=r(41190),u=r(44794),p=r(82015),x=r(94001),h=r(47272),f=r(2777),g=r(86333),j=r(94019),y=r(77506),v=r(71709),b=r(24230),N=r(32933),_=r(90434),w=r(2453),k=r(85999),D=r(55296);let S=["Concert","Sports","Party","Comedy","Film","Workshop","Conference","Festival","Other"],C=l.Ry({title:l.Z_().min(3,"Title must be at least 3 characters"),description:l.Z_().min(10,"Description must be at least 10 characters"),category:l.Z_().min(1,"Please select a category"),image:l.Yj().optional(),is_online:l.O7().default(!1),location:l.Z_().min(3,"Location is required"),start_date:l.Z_().min(1,"Start date is required"),start_time:l.Z_().min(1,"Start time is required"),end_date:l.Z_().optional(),end_time:l.Z_().optional()});function R(){let e=(0,i.useRouter)(),{profile:t,user:r}=(0,x.a)(),[l,R]=(0,a.useState)(1),[P,E]=(0,a.useState)(null),[I,F]=(0,a.useState)(!1),[O,T]=(0,a.useState)(!1),[A,$]=(0,a.useState)(!1),[M,q]=(0,a.useState)(!1),[U,V]=(0,a.useState)(!1),Z=(0,n.cI)({resolver:(0,o.F)(C),defaultValues:{is_online:!1,end_date:"",end_time:""}}),z=(0,n.cI)({defaultValues:{ticket_types:[{name:"",price:0,quantity:100}]}}),{fields:L,append:Y,remove:W}=(0,n.Dq)({control:z.control,name:"ticket_types"}),B=(0,n.cI)({defaultValues:{ticket_types:[]}}),G=Z.watch(),K=z.watch("ticket_types"),X=B.watch("ticket_types"),H=()=>{},Q=(e,t=1920,r=.85)=>new Promise((s,a)=>{let i=new FileReader;i.readAsDataURL(e),i.onload=i=>{let n=new Image;n.src=i.target?.result,n.onload=()=>{let i=document.createElement("canvas"),o=n.width,l=n.height;o>t&&(l=l*t/o,o=t),i.width=o,i.height=l;let d=i.getContext("2d");if(!d){a(Error("Failed to get canvas context"));return}d.drawImage(n,0,0,o,l),i.toBlob(t=>{if(!t){a(Error("Failed to compress image"));return}s(new File([t],e.name,{type:"image/jpeg",lastModified:Date.now()}))},"image/jpeg",r)},n.onerror=()=>a(Error("Failed to load image"))},i.onerror=()=>a(Error("Failed to read file"))}),J=async e=>{if(!r)throw Error("User not authenticated");try{let t=await Q(e),s=`${r.id}/${Date.now()}.jpg`;console.log("Uploading image to storage bucket:",s);let{data:a,error:i}=await f.supabase.storage.from("event-images").upload(s,t,{cacheControl:"3600",upsert:!1});if(i){if(console.error("Storage upload error:",i),i.message?.includes("Bucket not found"))throw Error('Storage bucket "event-images" not found. Please create it in your Supabase dashboard.');if(i.message?.includes("new row violates row-level security"))throw Error("Permission denied. Please check storage bucket policies.");throw Error(`Image upload failed: ${i.message}`)}if(!a)throw Error("Upload succeeded but no data returned");console.log("Upload successful, getting public URL...");let{data:n}=f.supabase.storage.from("event-images").getPublicUrl(s);if(!n?.publicUrl)throw Error("Failed to get public URL for uploaded image");return console.log("Image URL generated:",n.publicUrl),n.publicUrl}catch(e){throw console.error("Upload image error:",e),e}},ee=(0,d.D)({mutationFn:async()=>{let e;if(!r||!t)throw Error("User not authenticated");let s=Z.getValues("image");if(s){F(!0);try{e=await J(s),console.log("Image uploaded successfully:",e)}catch(e){throw console.error("Image upload error:",e),F(!1),Error(`Failed to upload image: ${e.message||"Unknown error"}. Please try again or create the event without an image.`)}finally{F(!1)}}let a=new Date(`${G.start_date}T${G.start_time}`),i=G.is_online?`Online - ${G.location}`:G.location,n=K.map((e,t)=>({name:e.name,price:e.price,quantity:e.quantity,description:X[t]?.description||"",is_free:0===e.price})),o=await (0,h.yM)({creator_id:r.id,title:G.title,description:G.description,category:G.category,image_url:e,date:a.toISOString(),location:i,ticket_types:n});if(!o)throw Error("Event creation returned no data");return o},onSuccess:t=>{H(),e.push(`/dashboard/creator?created=${t.id}`)},onError:e=>{let t=e?.message||e?.error?.message||"Failed to create event. Please try again.";k.Am.error("Failed to create event",{description:t}),F(!1)}}),et=async()=>{if(1===l){if(!await Z.trigger()){let e=Object.keys(Z.formState.errors)[0];e&&document.querySelector(`[name="${e}"]`)?.scrollIntoView({behavior:"smooth",block:"center"});return}R(e=>Math.min(e+1,4));return}if(2===l){if(!await z.trigger()){let e=z.formState.errors.ticket_types;if(e){let t=Object.keys(e)[0];document.querySelector(`[name="ticket_types.${t}"]`)?.scrollIntoView({behavior:"smooth",block:"center"})}return}let e=z.getValues("ticket_types");B.reset({ticket_types:e.map(e=>({name:e.name,price:e.price,quantity:e.quantity,description:""}))}),R(e=>Math.min(e+1,4));return}if(3===l){R(e=>Math.min(e+1,4));return}},er=async()=>{let e=await Z.trigger(),t=await z.trigger();if(!e||!t){$(!0);return}await ee.mutateAsync()};return r&&t&&"creator"===t.role?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b border-border bg-card sticky top-0 z-10",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx(_.default,{href:"/dashboard/creator",children:s.jsx(c.z,{variant:"ghost",size:"icon",children:s.jsx(g.Z,{className:"w-5 h-5"})})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Create New Event"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Step ",l," of 4"]})]})]}),s.jsx(c.z,{variant:"outline",size:"sm",onClick:()=>{q(!0)},children:"Clear Draft"})]}),s.jsx("div",{className:"mt-4 flex gap-2",children:[1,2,3,4].map(e=>s.jsx("div",{className:`flex-1 h-2 rounded-full transition-colors ${e<=l?"bg-primary":"bg-muted"}`},e))})]})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[1===l&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Event Details"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tell us about your event. You can edit this later."})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx(u._,{children:"Event Image"}),s.jsx("div",{className:"mt-2",children:P?(0,s.jsxs)("div",{className:"relative w-full h-64 rounded-lg overflow-hidden border border-border",children:[s.jsx("img",{src:P,alt:"Event preview",className:"w-full h-full object-cover"}),s.jsx("button",{type:"button",onClick:()=>{E(null),Z.setValue("image",void 0)},className:"absolute top-2 right-2 p-2 bg-background/80 rounded-full hover:bg-background",disabled:I,children:s.jsx(j.Z,{className:"w-4 h-4"})}),I&&s.jsx("div",{className:"absolute inset-0 bg-background/80 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(y.Z,{className:"w-6 h-6 animate-spin text-primary"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Uploading image..."})]})})]}):(0,s.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-border rounded-lg cursor-pointer hover:border-primary transition-colors",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(v.Z,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,s.jsxs)("p",{className:"mb-2 text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, GIF up to 5MB"})]}),s.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];if(t){if(!t.type.startsWith("image/")){Z.setError("image",{message:"Please upload an image file"});return}if(t.size>5242880){Z.setError("image",{message:"Image must be less than 5MB"});return}Z.setValue("image",t),Z.clearErrors("image");let e=new FileReader;e.onloadend=()=>{E(e.result)},e.readAsDataURL(t)}}})]})}),Z.formState.errors.image&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(Z.formState.errors.image.message)})]}),(0,s.jsxs)("div",{children:[s.jsx(u._,{htmlFor:"title",children:"Event Title *"}),s.jsx(m.I,{id:"title",...Z.register("title"),placeholder:"e.g., Spring Fest 2026",className:"mt-2"}),Z.formState.errors.title&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(Z.formState.errors.title.message)})]}),(0,s.jsxs)("div",{children:[s.jsx(u._,{htmlFor:"description",children:"Description *"}),s.jsx(p.g,{id:"description",...Z.register("description"),placeholder:"Describe your event in detail...",rows:6,className:"mt-2"}),Z.formState.errors.description&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(Z.formState.errors.description.message)})]}),(0,s.jsxs)("div",{children:[s.jsx(u._,{htmlFor:"category",children:"Category *"}),(0,s.jsxs)("select",{id:"category",...Z.register("category"),className:"mt-2 w-full px-3 py-2 rounded-lg border border-border bg-background",children:[s.jsx("option",{value:"",children:"Select a category"}),S.map(e=>s.jsx("option",{value:e,children:e},e))]}),Z.formState.errors.category&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(Z.formState.errors.category.message)})]}),s.jsx("div",{className:"flex items-center gap-4",children:(0,s.jsxs)(u._,{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",...Z.register("is_online"),className:"w-4 h-4"}),s.jsx("span",{children:"This is an online event"})]})}),(0,s.jsxs)("div",{children:[s.jsx(u._,{htmlFor:"location",children:G.is_online?"Online Event Link/Platform *":"Location *"}),s.jsx(m.I,{id:"location",...Z.register("location"),placeholder:G.is_online?"e.g., Zoom, Google Meet, or event link":"e.g., Main Campus Amphitheater",className:"mt-2"}),Z.formState.errors.location&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(Z.formState.errors.location.message)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx(u._,{htmlFor:"start_date",children:"Start Date *"}),s.jsx(m.I,{id:"start_date",type:"date",...Z.register("start_date"),className:"mt-2",min:new Date().toISOString().split("T")[0]}),Z.formState.errors.start_date&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(Z.formState.errors.start_date.message)})]}),(0,s.jsxs)("div",{children:[s.jsx(u._,{htmlFor:"start_time",children:"Start Time *"}),s.jsx(m.I,{id:"start_time",type:"time",...Z.register("start_time"),className:"mt-2"}),Z.formState.errors.start_time&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(Z.formState.errors.start_time.message)})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx(u._,{htmlFor:"end_date",children:"End Date (Optional)"}),s.jsx(m.I,{id:"end_date",type:"date",...Z.register("end_date"),className:"mt-2",min:G.start_date||new Date().toISOString().split("T")[0]})]}),(0,s.jsxs)("div",{children:[s.jsx(u._,{htmlFor:"end_time",children:"End Time (Optional)"}),s.jsx(m.I,{id:"end_time",type:"time",...Z.register("end_time"),className:"mt-2"})]})]})]})]}),2===l&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Ticket Types"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set up your ticket types and pricing. You can add multiple ticket types."}),Object.keys(z.formState.errors).length>0&&s.jsx("div",{className:"mt-4 p-3 bg-destructive/10 text-destructive rounded-lg text-sm",children:"Please fix the errors below before proceeding."})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[L.map((e,t)=>(0,s.jsxs)("div",{className:"p-6 border border-border rounded-lg space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h3",{className:"font-semibold",children:["Ticket Type ",t+1]}),L.length>1&&s.jsx(c.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>W(t),children:s.jsx(j.Z,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{children:[s.jsx(u._,{children:"Ticket Name *"}),s.jsx(m.I,{...z.register(`ticket_types.${t}.name`),placeholder:"e.g., General Admission, VIP, Early Bird",className:"mt-2"}),z.formState.errors.ticket_types?.[t]?.name&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(z.formState.errors.ticket_types[t]?.name?.message)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx(u._,{children:"Price (₦) *"}),s.jsx(m.I,{type:"number",step:"0.01",min:"0",...z.register(`ticket_types.${t}.price`,{valueAsNumber:!0}),placeholder:"0.00",className:"mt-2"}),z.formState.errors.ticket_types?.[t]?.price&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(z.formState.errors.ticket_types[t]?.price?.message)})]}),(0,s.jsxs)("div",{children:[s.jsx(u._,{children:"Quantity *"}),s.jsx(m.I,{type:"number",min:"1",...z.register(`ticket_types.${t}.quantity`,{valueAsNumber:!0}),placeholder:"100",className:"mt-2"}),z.formState.errors.ticket_types?.[t]?.quantity&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:String(z.formState.errors.ticket_types[t]?.quantity?.message)})]})]})]},e.id)),s.jsx(c.z,{type:"button",variant:"outline",onClick:()=>Y({name:"",price:0,quantity:100}),className:"w-full",children:"+ Add Another Ticket Type"})]})]}),3===l&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Ticket Benefits (Optional)"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add benefits or details for each ticket type. This is optional."})]}),s.jsx("div",{className:"space-y-6",children:B.watch("ticket_types").length>0?B.watch("ticket_types").map((e,t)=>(0,s.jsxs)("div",{className:"p-6 border border-border rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-4",children:e.name||`Ticket Type ${t+1}`}),(0,s.jsxs)("div",{children:[s.jsx(u._,{children:"Benefits/Description (Optional)"}),s.jsx(p.g,{...B.register(`ticket_types.${t}.description`),placeholder:"e.g., Access to VIP area, Free drinks, Early entry...",rows:4,className:"mt-2"})]})]},t)):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No ticket types found. Please go back to Step 2 and add ticket types."})})]}),4===l&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Preview Event"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review your event details before publishing."})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[P&&s.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden border border-border",children:s.jsx("img",{src:P,alt:G.title,className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"p-6 border border-border rounded-lg space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-2xl font-bold",children:G.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:G.category})]}),s.jsx("div",{children:s.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:G.description})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-border",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),s.jsx("p",{className:"font-medium",children:G.location})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Start Date & Time"}),s.jsx("p",{className:"font-medium",children:G.start_date&&G.start_time?(0,w.WU)(new Date(`${G.start_date}T${G.start_time}`),"MMM d, yyyy • h:mm a"):"Not set"})]}),G.end_date&&G.end_time&&(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"End Date & Time"}),s.jsx("p",{className:"font-medium",children:(0,w.WU)(new Date(`${G.end_date}T${G.end_time}`),"MMM d, yyyy • h:mm a")})]})]})]}),(0,s.jsxs)("div",{className:"p-6 border border-border rounded-lg space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Ticket Types"}),K.map((e,t)=>s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:e.name}),X[t]?.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:X[t].description})]}),(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold",children:0===e.price?"Free":`₦${e.price.toLocaleString()}`}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.quantity," tickets"]})]})]})},t))]})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-border",children:[(0,s.jsxs)(c.z,{type:"button",variant:"outline",onClick:()=>{R(e=>Math.max(e-1,1))},disabled:1===l,children:[s.jsx(g.Z,{className:"w-4 h-4 mr-2"}),"Previous"]}),l<4?(0,s.jsxs)(c.z,{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),et()},variant:"hero",children:["Next",s.jsx(b.Z,{className:"w-4 h-4 ml-2"})]}):s.jsx(c.z,{type:"button",onClick:e=>{e.preventDefault(),e.stopPropagation(),er()},variant:"hero",disabled:ee.isPending||I,children:ee.isPending||I?(0,s.jsxs)(s.Fragment,{children:[s.jsx(y.Z,{className:"w-4 h-4 mr-2 animate-spin"}),I?"Uploading image...":"Creating event..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"Create Event"]})})]})]}),s.jsx(D.aR,{open:O,onOpenChange:T,children:(0,s.jsxs)(D._T,{children:[(0,s.jsxs)(D.fY,{children:[s.jsx(D.f$,{children:"Restore Draft?"}),(0,s.jsxs)(D.yT,{children:["You have a saved draft. Would you like to restore it?",s.jsx("br",{}),s.jsx("br",{}),s.jsx("strong",{children:"Note:"})," If you had an image selected, you'll need to select it again."]})]}),(0,s.jsxs)(D.xo,{children:[s.jsx(D.le,{onClick:()=>{T(!1),H(),Z.reset({is_online:!1,end_date:"",end_time:""}),z.reset({ticket_types:[{name:"",price:0,quantity:100}]}),B.reset({ticket_types:[]}),E(null),R(1)},children:"Discard Draft"}),s.jsx(D.OL,{onClick:()=>{T(!1)},children:"Restore Draft"})]})]})}),s.jsx(D.aR,{open:A,onOpenChange:$,children:(0,s.jsxs)(D._T,{children:[(0,s.jsxs)(D.fY,{children:[s.jsx(D.f$,{children:"Form Validation Error"}),s.jsx(D.yT,{children:"Please fix all errors before creating the event."})]}),s.jsx(D.xo,{children:s.jsx(D.OL,{onClick:()=>$(!1),children:"OK"})})]})}),s.jsx(D.aR,{open:M,onOpenChange:q,children:(0,s.jsxs)(D._T,{children:[(0,s.jsxs)(D.fY,{children:[s.jsx(D.f$,{children:"Clear Draft?"}),s.jsx(D.yT,{children:"Are you sure you want to clear all saved draft data? This cannot be undone."})]}),(0,s.jsxs)(D.xo,{children:[s.jsx(D.le,{children:"Cancel"}),s.jsx(D.OL,{onClick:()=>{H(),Z.reset({is_online:!1,end_date:"",end_time:""}),z.reset({ticket_types:[{name:"",price:0,quantity:100}]}),B.reset({ticket_types:[]}),E(null),R(1),q(!1),V(!0)},children:"Clear Draft"})]})]})}),s.jsx(D.aR,{open:U,onOpenChange:V,children:(0,s.jsxs)(D._T,{children:[(0,s.jsxs)(D.fY,{children:[s.jsx(D.f$,{children:"Draft Cleared"}),s.jsx(D.yT,{children:"Draft cleared successfully"})]}),s.jsx(D.xo,{children:s.jsx(D.OL,{onClick:()=>V(!1),children:"OK"})})]})})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Only creators can create events."})]})})}l.Ry({name:l.Z_().min(1,"Ticket name is required"),price:l.Rx().min(0,"Price must be 0 or greater"),quantity:l.Rx().min(1,"Quantity must be at least 1")}),l.Ry({ticket_types:l.IX(l.Ry({name:l.Z_(),price:l.Rx(),quantity:l.Rx(),description:l.Z_().optional()}))})},55296:(e,t,r)=>{"use strict";r.d(t,{OL:()=>f,_T:()=>m,aR:()=>l,f$:()=>x,fY:()=>u,le:()=>g,xo:()=>p,yT:()=>h});var s=r(10326),a=r(17577),i=r(80440),n=r(51223),o=r(91664);let l=i.fC;i.xz;let d=i.h_,c=a.forwardRef(({className:e,...t},r)=>s.jsx(i.aV,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));c.displayName=i.aV.displayName;let m=a.forwardRef(({className:e,...t},r)=>(0,s.jsxs)(d,{children:[s.jsx(c,{}),s.jsx(i.VY,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));m.displayName=i.VY.displayName;let u=({className:e,...t})=>s.jsx("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});u.displayName="AlertDialogHeader";let p=({className:e,...t})=>s.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p.displayName="AlertDialogFooter";let x=a.forwardRef(({className:e,...t},r)=>s.jsx(i.Dx,{ref:r,className:(0,n.cn)("text-lg font-semibold",e),...t}));x.displayName=i.Dx.displayName;let h=a.forwardRef(({className:e,...t},r)=>s.jsx(i.dk,{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));h.displayName=i.dk.displayName;let f=a.forwardRef(({className:e,...t},r)=>s.jsx(i.aU,{ref:r,className:(0,n.cn)((0,o.d)(),e),...t}));f.displayName=i.aU.displayName;let g=a.forwardRef(({className:e,...t},r)=>s.jsx(i.$j,{ref:r,className:(0,n.cn)((0,o.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));g.displayName=i.$j.displayName},60900:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/mac/Desktop/Client projects/frecks-new/app/dashboard/creator/create/page.tsx#default`)},80440:(e,t,r)=>{"use strict";r.d(t,{$j:()=>$,Dx:()=>M,VY:()=>T,aU:()=>A,aV:()=>O,dk:()=>q,fC:()=>E,h_:()=>F,xz:()=>I});var s=r(17577),a=r(93095),i=r(48051),n=r(98958),o=r(82561),l=r(34214),d=r(10326),c="AlertDialog",[m,u]=(0,a.b)(c,[n.p8]),p=(0,n.p8)(),x=e=>{let{__scopeAlertDialog:t,...r}=e,s=p(t);return(0,d.jsx)(n.fC,{...s,...r,modal:!0})};x.displayName=c;var h=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=p(r);return(0,d.jsx)(n.xz,{...a,...s,ref:t})});h.displayName="AlertDialogTrigger";var f=e=>{let{__scopeAlertDialog:t,...r}=e,s=p(t);return(0,d.jsx)(n.h_,{...s,...r})};f.displayName="AlertDialogPortal";var g=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=p(r);return(0,d.jsx)(n.aV,{...a,...s,ref:t})});g.displayName="AlertDialogOverlay";var j="AlertDialogContent",[y,v]=m(j),b=(0,l.sA)("AlertDialogContent"),N=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:a,...l}=e,c=p(r),m=s.useRef(null),u=(0,i.e)(t,m),x=s.useRef(null);return(0,d.jsx)(n.jm,{contentName:j,titleName:_,docsSlug:"alert-dialog",children:(0,d.jsx)(y,{scope:r,cancelRef:x,children:(0,d.jsxs)(n.VY,{role:"alertdialog",...c,...l,ref:u,onOpenAutoFocus:(0,o.M)(l.onOpenAutoFocus,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(b,{children:a}),(0,d.jsx)(P,{contentRef:m})]})})})});N.displayName=j;var _="AlertDialogTitle",w=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=p(r);return(0,d.jsx)(n.Dx,{...a,...s,ref:t})});w.displayName=_;var k="AlertDialogDescription",D=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=p(r);return(0,d.jsx)(n.dk,{...a,...s,ref:t})});D.displayName=k;var S=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,a=p(r);return(0,d.jsx)(n.x8,{...a,...s,ref:t})});S.displayName="AlertDialogAction";var C="AlertDialogCancel",R=s.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=v(C,r),o=p(r),l=(0,i.e)(t,a);return(0,d.jsx)(n.x8,{...o,...s,ref:l})});R.displayName=C;var P=({contentRef:e})=>{let t=`\`${j}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${j}\` by passing a \`${k}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${j}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return s.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},E=x,I=h,F=f,O=g,T=N,A=S,$=R,M=w,q=D},98958:(e,t,r)=>{"use strict";r.d(t,{Dx:()=>es,VY:()=>er,aV:()=>et,dk:()=>ea,fC:()=>Q,h_:()=>ee,jm:()=>G,p8:()=>b,x8:()=>ei,xz:()=>J});var s=r(17577),a=r(82561),i=r(48051),n=r(93095),o=r(88957),l=r(52067),d=r(825),c=r(10441),m=r(83078),u=r(9815),p=r(45226),x=r(80699),h=r(95011),f=r(35664),g=r(34214),j=r(10326),y="Dialog",[v,b]=(0,n.b)(y),[N,_]=v(y),w=e=>{let{__scopeDialog:t,children:r,open:a,defaultOpen:i,onOpenChange:n,modal:d=!0}=e,c=s.useRef(null),m=s.useRef(null),[u,p]=(0,l.T)({prop:a,defaultProp:i??!1,onChange:n,caller:y});return(0,j.jsx)(N,{scope:t,triggerRef:c,contentRef:m,contentId:(0,o.M)(),titleId:(0,o.M)(),descriptionId:(0,o.M)(),open:u,onOpenChange:p,onOpenToggle:s.useCallback(()=>p(e=>!e),[p]),modal:d,children:r})};w.displayName=y;var k="DialogTrigger",D=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,n=_(k,r),o=(0,i.e)(t,n.triggerRef);return(0,j.jsx)(p.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":W(n.open),...s,ref:o,onClick:(0,a.M)(e.onClick,n.onOpenToggle)})});D.displayName=k;var S="DialogPortal",[C,R]=v(S,{forceMount:void 0}),P=e=>{let{__scopeDialog:t,forceMount:r,children:a,container:i}=e,n=_(S,t);return(0,j.jsx)(C,{scope:t,forceMount:r,children:s.Children.map(a,e=>(0,j.jsx)(u.z,{present:r||n.open,children:(0,j.jsx)(m.h,{asChild:!0,container:i,children:e})}))})};P.displayName=S;var E="DialogOverlay",I=s.forwardRef((e,t)=>{let r=R(E,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=_(E,e.__scopeDialog);return i.modal?(0,j.jsx)(u.z,{present:s||i.open,children:(0,j.jsx)(O,{...a,ref:t})}):null});I.displayName=E;var F=(0,g.Z8)("DialogOverlay.RemoveScroll"),O=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=_(E,r);return(0,j.jsx)(h.Z,{as:F,allowPinchZoom:!0,shards:[a.contentRef],children:(0,j.jsx)(p.WV.div,{"data-state":W(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),T="DialogContent",A=s.forwardRef((e,t)=>{let r=R(T,e.__scopeDialog),{forceMount:s=r.forceMount,...a}=e,i=_(T,e.__scopeDialog);return(0,j.jsx)(u.z,{present:s||i.open,children:i.modal?(0,j.jsx)($,{...a,ref:t}):(0,j.jsx)(M,{...a,ref:t})})});A.displayName=T;var $=s.forwardRef((e,t)=>{let r=_(T,e.__scopeDialog),n=s.useRef(null),o=(0,i.e)(t,r.contentRef,n);return s.useEffect(()=>{let e=n.current;if(e)return(0,f.Ry)(e)},[]),(0,j.jsx)(q,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,a.M)(e.onFocusOutside,e=>e.preventDefault())})}),M=s.forwardRef((e,t)=>{let r=_(T,e.__scopeDialog),a=s.useRef(!1),i=s.useRef(!1);return(0,j.jsx)(q,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let s=t.target;r.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),q=s.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,...l}=e,m=_(T,r),u=s.useRef(null),p=(0,i.e)(t,u);return(0,x.EW)(),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.M,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:o,children:(0,j.jsx)(d.XB,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":W(m.open),...l,ref:p,onDismiss:()=>m.onOpenChange(!1)})}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(X,{titleId:m.titleId}),(0,j.jsx)(H,{contentRef:u,descriptionId:m.descriptionId})]})]})}),U="DialogTitle",V=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=_(U,r);return(0,j.jsx)(p.WV.h2,{id:a.titleId,...s,ref:t})});V.displayName=U;var Z="DialogDescription",z=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,a=_(Z,r);return(0,j.jsx)(p.WV.p,{id:a.descriptionId,...s,ref:t})});z.displayName=Z;var L="DialogClose",Y=s.forwardRef((e,t)=>{let{__scopeDialog:r,...s}=e,i=_(L,r);return(0,j.jsx)(p.WV.button,{type:"button",...s,ref:t,onClick:(0,a.M)(e.onClick,()=>i.onOpenChange(!1))})});function W(e){return e?"open":"closed"}Y.displayName=L;var B="DialogTitleWarning",[G,K]=(0,n.k)(B,{contentName:T,titleName:U,docsSlug:"dialog"}),X=({titleId:e})=>{let t=K(B),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return s.useEffect(()=>{e&&!document.getElementById(e)&&console.error(r)},[r,e]),null},H=({contentRef:e,descriptionId:t})=>{let r=K("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r.contentName}}.`;return s.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&!document.getElementById(t)&&console.warn(a)},[a,e,t]),null},Q=w,J=D,ee=P,et=I,er=A,es=V,ea=z,ei=Y}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,759,65,453,145,236,681],()=>r(1164));module.exports=s})();