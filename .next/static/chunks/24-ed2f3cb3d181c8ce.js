"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[24],{24:function(e,t,a){a.d(t,{default:function(){return E}});var r=a(7437),s=a(2265),l=a(7648),n=a(9376),i=a(2381),o=a(5080),d=a(3247),u=a(2369),c=a(7692),f=a(2489),m=a(8293),h=a(3448),x=a(7569),v=a(4362),p=a(85),g=a(407),b=a(401),N=a(519);let j=p.fC,w=p.xz;p.ZA,p.Uv,p.Tr,p.Ee,s.forwardRef((e,t)=>{let{className:a,inset:s,children:l,...n}=e;return(0,r.jsxs)(p.fF,{ref:t,className:(0,h.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",s&&"pl-8",a),...n,children:[l,(0,r.jsx)(g.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=p.fF.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.tu,{ref:t,className:(0,h.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=p.tu.displayName;let y=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...l}=e;return(0,r.jsx)(p.Uv,{children:(0,r.jsx)(p.VY,{ref:t,sideOffset:s,className:(0,h.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})})});y.displayName=p.VY.displayName;let k=s.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(p.ck,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",s&&"pl-8",a),...l})});k.displayName=p.ck.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:l,...n}=e;return(0,r.jsxs)(p.oC,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a),checked:l,...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(p.wU,{children:(0,r.jsx)(b.Z,{className:"h-4 w-4"})})}),s]})}).displayName=p.oC.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(p.Rk,{ref:t,className:(0,h.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(p.wU,{children:(0,r.jsx)(N.Z,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=p.Rk.displayName,s.forwardRef((e,t)=>{let{className:a,inset:s,...l}=e;return(0,r.jsx)(p.__,{ref:t,className:(0,h.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...l})}).displayName=p.__.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(p.Z0,{ref:t,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=p.Z0.displayName;var _=a(1146);let z=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(_.fC,{ref:t,className:(0,h.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s})});z.displayName=_.fC.displayName;let C=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(_.Ee,{ref:t,className:(0,h.cn)("aspect-square h-full w-full",a),...s})});C.displayName=_.Ee.displayName;let I=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(_.NY,{ref:t,className:(0,h.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s})});I.displayName=_.NY.displayName;var S=a(5038);a(1354);var E=()=>{var e,t;let[a,p]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),{profile:N,user:_,signOut:E}=(0,v.a)(),Z=(0,n.useRouter)();(0,s.useEffect)(()=>{b(!0)},[]);let R=[{label:"Events",href:"/#events"},{label:"Categories",href:"/#categories"},{label:"About",href:"/#about"}],U=async()=>{await E(),Z.push("/")};return(0,r.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-lg border-b border-border",children:[(0,r.jsx)("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 md:h-20",children:[(0,r.jsxs)(l.default,{href:"/",className:"flex items-center gap-2 group",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,r.jsx)(o.Z,{className:"w-5 h-5 text-primary-foreground"})}),(0,r.jsx)("span",{className:"text-xl font-bold text-primary",children:"Frecks"})]}),(0,r.jsx)("nav",{className:"hidden md:flex items-center gap-8",children:R.map(e=>(0,r.jsxs)("a",{href:e.href,className:"text-muted-foreground hover:text-foreground font-medium transition-colors relative group",children:[e.label,(0,r.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all group-hover:w-full"})]},e.label))}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,r.jsx)(i.z,{variant:"ghost",size:"icon",children:(0,r.jsx)(d.Z,{className:"w-5 h-5"})}),(0,r.jsx)(x.Z,{}),N?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(j,{children:[(0,r.jsx)(w,{asChild:!0,children:(0,r.jsx)(i.z,{variant:"ghost",className:"flex items-center gap-2 h-auto py-1.5",children:g&&(null==N?void 0:N.avatar_name)?(0,r.jsx)("div",{className:"h-8 w-8 flex items-center justify-center overflow-hidden shrink-0",children:(0,r.jsx)(S.qU,{name:N.avatar_name,size:"2xl"})}):(0,r.jsxs)(z,{className:"h-8 w-8 shrink-0",children:[(0,r.jsx)(C,{src:(null==N?void 0:N.avatar_url)||void 0}),(0,r.jsx)(I,{className:"text-xs",children:(null==N?void 0:null===(e=N.full_name)||void 0===e?void 0:e.charAt(0).toUpperCase())||(null==N?void 0:null===(t=N.email)||void 0===t?void 0:t.charAt(0).toUpperCase())||"U"})]})})}),(0,r.jsxs)(y,{align:"end",children:[(0,r.jsxs)(k,{onClick:()=>Z.push("/dashboard"),children:[(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"My Dashboard"]}),(0,r.jsxs)(k,{onClick:U,children:[(0,r.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{href:"/auth/signin",children:(0,r.jsx)(i.z,{variant:"outline",children:"Sign In"})}),(0,r.jsx)(l.default,{href:"/auth/signup",children:(0,r.jsx)(i.z,{variant:"hero",children:"Sign Up"})})]})]}),(0,r.jsxs)("div",{className:"flex md:hidden items-center gap-2",children:[(0,r.jsx)(x.Z,{}),(0,r.jsx)("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors",onClick:()=>p(!a),children:a?(0,r.jsx)(f.Z,{className:"w-6 h-6"}):(0,r.jsx)(m.Z,{className:"w-6 h-6"})})]})]})}),(0,r.jsx)("div",{className:(0,h.cn)("md:hidden overflow-hidden transition-all duration-300 bg-background border-b border-border",a?"max-h-96":"max-h-0"),children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex flex-col gap-4",children:[R.map(e=>(0,r.jsx)("a",{href:e.href,className:"text-muted-foreground hover:text-foreground font-medium transition-colors py-2",onClick:()=>p(!1),children:e.label},e.label)),(0,r.jsx)("div",{className:"flex flex-col gap-3 pt-4 border-t border-border",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{href:"/dashboard",className:"w-full",children:(0,r.jsx)(i.z,{variant:"outline",className:"w-full",children:"Dashboard"})}),(0,r.jsx)(i.z,{variant:"ghost",className:"w-full",onClick:U,children:"Sign Out"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.default,{href:"/auth/signin",className:"w-full",children:(0,r.jsx)(i.z,{variant:"outline",className:"w-full",children:"Sign In"})}),(0,r.jsx)(l.default,{href:"/auth/signup",className:"w-full",children:(0,r.jsx)(i.z,{variant:"hero",className:"w-full",children:"Sign Up"})})]})})]})})]})}},7569:function(e,t,a){var r=a(7437),s=a(5929),l=a(7226),n=a(2381),i=a(8873);t.Z=()=>{let{theme:e,toggleTheme:t}=(0,i.F)();return(0,r.jsx)(n.z,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full",children:"dark"===e?(0,r.jsx)(s.Z,{className:"w-5 h-5"}):(0,r.jsx)(l.Z,{className:"w-5 h-5"})})}},2381:function(e,t,a){a.d(t,{d:function(){return o},z:function(){return d}});var r=a(7437),s=a(2265),l=a(7495),n=a(535),i=a(3448);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-button hover:brightness-110 active:scale-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:brightness-110 active:scale-95",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground shadow-button hover:brightness-110 active:scale-95 font-bold",accent:"bg-accent text-accent-foreground border border-border hover:bg-muted active:scale-95"},size:{default:"h-11 px-6 py-2",sm:"h-9 px-4 text-xs",lg:"h-14 px-8 text-base",xl:"h-16 px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:d=!1,...u}=e,c=d?l.g7:"button";return(0,r.jsx)(c,{className:(0,i.cn)(o({variant:s,size:n,className:a})),ref:t,...u})});d.displayName="Button"},4362:function(e,t,a){a.d(t,{H:function(){return o},a:function(){return i}});var r=a(7437),s=a(2265),l=a(5526);let n=(0,s.createContext)(void 0),i=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:t}=e,[a,i]=(0,s.useState)(null),[o,d]=(0,s.useState)(null),[u,c]=(0,s.useState)(null),[f,m]=(0,s.useState)(!0),h=(0,s.useRef)(null),x=async e=>{if(h.current!==e){h.current=e;try{let{data:t,error:a}=await l.supabase.from("users").select("id, email, full_name, role, gender, school, avatar_name, avatar_url").eq("id",e).single();if(a)throw a;t?d({id:t.id,email:t.email,full_name:t.full_name,role:t.role||"user",gender:t.gender||null,school:t.school||null,avatar_name:t.avatar_name||null,avatar_url:t.avatar_url||null}):d(null)}catch(e){console.error("Error fetching profile:",e),d(null)}finally{h.current=null}}},v=async()=>{a&&(h.current=null,await x(a.id))};(0,s.useEffect)(()=>{let e=!0,t=null;l.supabase.auth.getSession().then(a=>{var r,s,l;let{data:{session:n},error:o}=a;if(e){if(o){m(!1);return}c(n),i(null!==(s=null==n?void 0:n.user)&&void 0!==s?s:null),t=null!==(l=null==n?void 0:null===(r=n.user)||void 0===r?void 0:r.id)&&void 0!==l?l:null,(null==n?void 0:n.user)&&x(n.user.id),e&&m(!1)}});let{data:{subscription:a}}=l.supabase.auth.onAuthStateChange((a,r)=>{var s,l,n;if(!e)return;let o=null!==(l=null==r?void 0:null===(s=r.user)||void 0===s?void 0:s.id)&&void 0!==l?l:null;o!==t&&(c(r),i(null!==(n=null==r?void 0:r.user)&&void 0!==n?n:null),t=o,(null==r?void 0:r.user)?x(r.user.id):d(null))});return()=>{e=!1,a.unsubscribe()}},[]);let p=async()=>{await l.supabase.auth.signOut(),i(null),d(null),c(null),h.current=null};return(0,r.jsx)(n.Provider,{value:{user:a,profile:o,session:u,loading:f,signOut:p,refreshProfile:v},children:t})}},8873:function(e,t,a){a.d(t,{F:function(){return i},f:function(){return n}});var r=a(7437),s=a(2265);let l=(0,s.createContext)(void 0),n=e=>{let{children:t}=e,[a,n]=(0,s.useState)("light"),[i,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{o(!0);let e=localStorage.getItem("theme");e&&("light"===e||"dark"===e)?n(e):n(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,s.useEffect)(()=>{if(!i)return;let e=window.document.documentElement;e.classList.remove("light","dark"),e.classList.add(a),localStorage.setItem("theme",a)},[a,i]),(0,r.jsx)(l.Provider,{value:{theme:a,toggleTheme:()=>{n(e=>"light"===e?"dark":"light")}},children:t})},i=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}},5526:function(e,t,a){a.d(t,{supabase:function(){return d}});var r,s,l=a(8280),n=a(257);let i=(void 0!==n?null===(r=n.env)||void 0===r?void 0:"https://ynkvvjkokwwnqoujeznu.supabase.co":void 0)||"",o=(void 0!==n?null===(s=n.env)||void 0===s?void 0:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlua3Z2amtva3d3bnFvdWplem51Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjE2ODMsImV4cCI6MjA4NDMzNzY4M30.tVFWjO_kqz2iY3GpunHC78czG6Tb2Ikhl1HbVoINbCg":void 0)||"";if(!i||!o){let e="Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in your .env.local file. (Note: In Next.js, client-side env vars must be prefixed with NEXT_PUBLIC_)";throw console.error(e),Error(e)}let d=(0,l.eI)(i,o,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},3448:function(e,t,a){a.d(t,{cn:function(){return l}});var r=a(1994),s=a(3335);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}}}]);