(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{91816:function(e,s,t){Promise.resolve().then(t.bind(t,17854))},17854:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return eJ}});var a=t(57437),r=t(2265),n=t(99376),l=t(29827),i=t(11713),d=t(14362),c=t(96629),o=t(93448);let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});u.displayName="Card";let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",t),...r})});m.displayName="CardHeader";let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});x.displayName="CardTitle",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,o.cn)("p-6 pt-0",t),...r})});h.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,o.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var j=t(31047),f=t(95805),p=t(95252),v=t(95080),g=t(49663),N=t(70525);function b(e){let{stats:s,isLoading:t}=e;if(t)return(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[...Array(6)].map((e,s)=>(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(x,{className:"text-sm font-medium",children:"Loading..."}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-muted animate-pulse"})]}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"h-8 w-20 animate-pulse rounded bg-muted mb-2"}),(0,a.jsx)("div",{className:"h-4 w-32 animate-pulse rounded bg-muted"})]})]},s))});if(!s)return null;let r=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e);return(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:[(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(x,{className:"text-sm font-medium",children:"Total Events"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-primary/10",children:(0,a.jsx)(j.Z,{className:"h-4 w-4 text-primary"})})]}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.events.total}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[s.events.byStatus.active," active, ",s.events.byStatus.draft," draft"]})]})]}),(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(x,{className:"text-sm font-medium",children:"Total Users"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-blue-500/10",children:(0,a.jsx)(f.Z,{className:"h-4 w-4 text-blue-500"})})]}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.users.total}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[s.users.byRole.user," users, ",s.users.byRole.creator," creators, ",s.users.banned," banned"]})]})]}),(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(x,{className:"text-sm font-medium",children:"Total Revenue"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-green-500/10",children:(0,a.jsx)(p.Z,{className:"h-4 w-4 text-green-500"})})]}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:r(s.revenue.total)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[r(s.revenue.thisMonth)," this month"]})]})]}),(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(x,{className:"text-sm font-medium",children:"Tickets Sold"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-purple-500/10",children:(0,a.jsx)(v.Z,{className:"h-4 w-4 text-purple-500"})})]}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.tickets.totalSold}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Total tickets sold"})]})]}),(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(x,{className:"text-sm font-medium",children:"Active Organizers"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-orange-500/10",children:(0,a.jsx)(g.Z,{className:"h-4 w-4 text-orange-500"})})]}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.organizers.active}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Event organizers"})]})]}),(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsxs)(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(x,{className:"text-sm font-medium",children:"Revenue Growth"}),(0,a.jsx)("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:(0,a.jsx)(N.Z,{className:"h-4 w-4 text-emerald-500"})})]}),(0,a.jsxs)(h,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:r(s.revenue.thisMonth)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"This month's revenue"})]})]})]})}var y=t(47625),w=t(8147),k=t(22190);let _={light:"",dark:".dark"},C=r.createContext(null);function R(){let e=r.useContext(C);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let A=r.forwardRef((e,s)=>{let{id:t,className:n,children:l,config:i,...d}=e,c=r.useId(),u="chart-".concat(t||c.replace(/:/g,""));return(0,a.jsx)(C.Provider,{value:{config:i},children:(0,a.jsxs)("div",{"data-chart":u,ref:s,className:(0,o.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",n),...d,children:[(0,a.jsx)(z,{id:u,config:i}),(0,a.jsx)(y.h,{children:l})]})})});A.displayName="Chart";let z=e=>{let{id:s,config:t}=e,r=Object.entries(t).filter(e=>{let[s,t]=e;return t.theme||t.color});return r.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(_).map(e=>{let[t,a]=e;return"\n".concat(a," [data-chart=").concat(s,"] {\n").concat(r.map(e=>{var s;let[a,r]=e,n=(null===(s=r.theme)||void 0===s?void 0:s[t])||r.color;return n?"  --color-".concat(a,": ").concat(n,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},S=w.u,D=r.forwardRef((e,s)=>{let{active:t,payload:n,className:l,indicator:i="dot",hideLabel:d=!1,hideIndicator:c=!1,label:u,labelFormatter:m,labelClassName:x,formatter:h,color:j,nameKey:f,labelKey:p}=e,{config:v}=R(),g=r.useMemo(()=>{var e;if(d||!(null==n?void 0:n.length))return null;let[s]=n,t="".concat(p||s.dataKey||s.name||"value"),r=Z(v,s,t),l=p||"string"!=typeof u?null==r?void 0:r.label:(null===(e=v[u])||void 0===e?void 0:e.label)||u;return m?(0,a.jsx)("div",{className:(0,o.cn)("font-medium",x),children:m(l,n)}):l?(0,a.jsx)("div",{className:(0,o.cn)("font-medium",x),children:l}):null},[u,m,n,d,x,v,p]);if(!t||!(null==n?void 0:n.length))return null;let N=1===n.length&&"dot"!==i;return(0,a.jsxs)("div",{ref:s,className:(0,o.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",l),children:[N?null:g,(0,a.jsx)("div",{className:"grid gap-1.5",children:n.map((e,s)=>{let t="".concat(f||e.name||e.dataKey||"value"),r=Z(v,e,t),n=j||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,o.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===i&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,s,e.payload):(0,a.jsxs)(a.Fragment,{children:[(null==r?void 0:r.icon)?(0,a.jsx)(r.icon,{}):!c&&(0,a.jsx)("div",{className:(0,o.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":N&&"dashed"===i}),style:{"--color-bg":n,"--color-border":n}}),(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-1 justify-between leading-none",N?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[N?g:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:(null==r?void 0:r.label)||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function Z(e,s,t){if("object"!=typeof s||null===s)return;let a="payload"in s&&"object"==typeof s.payload&&null!==s.payload?s.payload:void 0,r=t;return t in s&&"string"==typeof s[t]?r=s[t]:a&&t in a&&"string"==typeof a[t]&&(r=a[t]),r in e?e[r]:e[t]}D.displayName="ChartTooltip",k.D,r.forwardRef((e,s)=>{let{className:t,hideIcon:r=!1,payload:n,verticalAlign:l="bottom",nameKey:i}=e,{config:d}=R();return(null==n?void 0:n.length)?(0,a.jsx)("div",{ref:s,className:(0,o.cn)("flex items-center justify-center gap-4","top"===l?"pb-3":"pt-3",t),children:n.map(e=>{let s="".concat(i||e.dataKey||"value"),t=Z(d,e,s);return(0,a.jsxs)("div",{className:(0,o.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==t?void 0:t.icon)&&!r?(0,a.jsx)(t.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==t?void 0:t.label]},e.value)})}):null}).displayName="ChartLegend";var F=t(21156),T=t(56940),U=t(97059),O=t(62994),K=t(54061),q=t(75169),E=t(3574),M=t(20407),L=t(77031),V=t(31699),W=t(5481),P=t(23263);let I=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function B(e){let{events:s,orders:t,tickets:n,users:l,isLoading:i}=e,d=(0,r.useMemo)(()=>{if(!t)return[];let e=Array.from({length:30},(e,s)=>{let t=new Date;return t.setDate(t.getDate()-(29-s)),{date:t.toISOString().split("T")[0],revenue:0}});return t.forEach(s=>{if("paid"===s.payment_status){let t=new Date(s.created_at).toISOString().split("T")[0],a=e.find(e=>e.date===t);a&&(a.revenue+=parseFloat(s.total_amount||0))}}),e.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:e.revenue}))},[t]),c=(0,r.useMemo)(()=>{if(!s)return[];let e=new Map;return s.forEach(s=>{let t=s.category||"Other";e.set(t,(e.get(t)||0)+1)}),Array.from(e.entries()).map(e=>{let[s,t]=e;return{name:s,value:t}})},[s]),o=(0,r.useMemo)(()=>{if(!t||!s)return[];let e=new Map;return t.forEach(s=>{if("paid"===s.payment_status){var t;let a=s.event_id,r=(null===(t=s.event)||void 0===t?void 0:t.title)||"Unknown Event",n=e.get(a)||{name:r,revenue:0};n.revenue+=parseFloat(s.total_amount||0),e.set(a,n)}}),Array.from(e.values()).sort((e,s)=>s.revenue-e.revenue).slice(0,10).map(e=>({name:e.name.length>20?e.name.substring(0,20)+"...":e.name,revenue:e.revenue}))},[t,s]),j=(0,r.useMemo)(()=>{if(!n)return[];let e=Array.from({length:30},(e,s)=>{let t=new Date;return t.setDate(t.getDate()-(29-s)),{date:t.toISOString().split("T")[0],tickets:0}});return n.forEach(s=>{let t=new Date(s.created_at).toISOString().split("T")[0],a=e.find(e=>e.date===t);a&&a.tickets++}),e.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),tickets:e.tickets}))},[n]),f=(0,r.useMemo)(()=>{if(!l)return[];let e=Array.from({length:30},(e,s)=>{let t=new Date;return t.setDate(t.getDate()-(29-s)),{date:t.toISOString().split("T")[0],users:0,cumulative:0}}),s=0;return l.forEach(s=>{let t=new Date(s.created_at).toISOString().split("T")[0],a=e.find(e=>e.date===t);a&&a.users++}),e.forEach(e=>{s+=e.users,e.cumulative=s}),e.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),users:e.users,cumulative:e.cumulative}))},[l]);return i?(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)(u,{children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{children:"Loading..."})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"h-64 w-full animate-pulse rounded bg-muted"})})]},s))}):(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-lg",children:"Revenue Over Time (Last 30 Days)"})}),(0,a.jsx)(h,{children:(0,a.jsx)(A,{config:{revenue:{label:"Revenue",color:"hsl(var(--chart-1))"}},children:(0,a.jsxs)(F.w,{data:d,children:[(0,a.jsx)(T.q,{strokeDasharray:"3 3"}),(0,a.jsx)(U.K,{dataKey:"date"}),(0,a.jsx)(O.B,{}),(0,a.jsx)(S,{content:(0,a.jsx)(D,{})}),(0,a.jsx)(K.x,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--chart-1))",strokeWidth:2})]})})})]}),(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-lg",children:"Events by Category"})}),(0,a.jsx)(h,{children:(0,a.jsx)(A,{config:Object.fromEntries(c.map((e,s)=>[e.name,{label:e.name,color:I[s%I.length]}])),children:(0,a.jsxs)(q.u,{children:[(0,a.jsx)(E.b,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:s,percent:t}=e;return"".concat(s," ").concat((100*t).toFixed(0),"%")},outerRadius:80,fill:"#8884d8",dataKey:"value",children:c.map((e,s)=>(0,a.jsx)(M.b,{fill:I[s%I.length]},"cell-".concat(s)))}),(0,a.jsx)(S,{content:(0,a.jsx)(D,{})})]})})})]}),(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-lg",children:"Top 10 Events by Revenue"})}),(0,a.jsx)(h,{children:(0,a.jsx)(A,{config:{revenue:{label:"Revenue",color:"hsl(var(--chart-2))"}},children:(0,a.jsxs)(L.v,{data:o,children:[(0,a.jsx)(T.q,{strokeDasharray:"3 3"}),(0,a.jsx)(U.K,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),(0,a.jsx)(O.B,{}),(0,a.jsx)(S,{content:(0,a.jsx)(D,{})}),(0,a.jsx)(V.$,{dataKey:"revenue",fill:"hsl(var(--chart-2))"})]})})})]}),(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-lg",children:"Tickets Sold Over Time (Last 30 Days)"})}),(0,a.jsx)(h,{children:(0,a.jsx)(A,{config:{tickets:{label:"Tickets",color:"hsl(var(--chart-3))"}},children:(0,a.jsxs)(W.T,{data:j,children:[(0,a.jsx)(T.q,{strokeDasharray:"3 3"}),(0,a.jsx)(U.K,{dataKey:"date"}),(0,a.jsx)(O.B,{}),(0,a.jsx)(S,{content:(0,a.jsx)(D,{})}),(0,a.jsx)(P.u,{type:"monotone",dataKey:"tickets",stroke:"hsl(var(--chart-3))",fill:"hsl(var(--chart-3))",fillOpacity:.6})]})})})]}),(0,a.jsxs)(u,{className:"md:col-span-2 hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{className:"text-lg",children:"User Growth (Last 30 Days)"})}),(0,a.jsx)(h,{children:(0,a.jsx)(A,{config:{users:{label:"New Users",color:"hsl(var(--chart-4))"},cumulative:{label:"Total Users",color:"hsl(var(--chart-5))"}},children:(0,a.jsxs)(F.w,{data:f,children:[(0,a.jsx)(T.q,{strokeDasharray:"3 3"}),(0,a.jsx)(U.K,{dataKey:"date"}),(0,a.jsx)(O.B,{}),(0,a.jsx)(S,{content:(0,a.jsx)(D,{})}),(0,a.jsx)(k.D,{}),(0,a.jsx)(K.x,{type:"monotone",dataKey:"users",stroke:"hsl(var(--chart-4))",strokeWidth:2,name:"New Users"}),(0,a.jsx)(K.x,{type:"monotone",dataKey:"cumulative",stroke:"hsl(var(--chart-5))",strokeWidth:2,name:"Total Users"})]})})})]})]})}let Q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,o.cn)("w-full caption-bottom text-sm",t),...r})})});Q.displayName="Table";let $=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("thead",{ref:s,className:(0,o.cn)("[&_tr]:border-b",t),...r})});$.displayName="TableHeader";let Y=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,o.cn)("[&_tr:last-child]:border-0",t),...r})});Y.displayName="TableBody",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let G=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("tr",{ref:s,className:(0,o.cn)("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...r})});G.displayName="TableRow";let X=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("th",{ref:s,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});X.displayName="TableHead";let H=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("td",{ref:s,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});H.displayName="TableCell",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("caption",{ref:s,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption";var J=t(69174),ee=t(12381),es=t(64014),et=t(71533),ea=t(42208),er=t(15868),en=t(18930),el=t(88906),ei=t(95468),ed=t(56439),ec=t(32060),eo=t(27648),eu=t(30767),em=t(74291),ex=t(75060),eh=t(93402),ej=t(40875),ef=t(22135),ep=t(30401);let ev=eh.fC;eh.ZA;let eg=eh.B4,eN=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(eh.xz,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,(0,a.jsx)(eh.JO,{asChild:!0,children:(0,a.jsx)(ej.Z,{className:"h-4 w-4 opacity-50"})})]})});eN.displayName=eh.xz.displayName;let eb=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eh.u_,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(ef.Z,{className:"h-4 w-4"})})});eb.displayName=eh.u_.displayName;let ey=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eh.$G,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(ej.Z,{className:"h-4 w-4"})})});ey.displayName=eh.$G.displayName;let ew=r.forwardRef((e,s)=>{let{className:t,children:r,position:n="popper",...l}=e;return(0,a.jsx)(eh.h_,{children:(0,a.jsxs)(eh.VY,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,a.jsx)(eb,{}),(0,a.jsx)(eh.l_,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(ey,{})]})})});ew.displayName=eh.VY.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eh.__,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=eh.__.displayName;let ek=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(eh.ck,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(eh.wU,{children:(0,a.jsx)(ep.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(eh.eT,{children:r})]})});ek.displayName=eh.ck.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eh.Z0,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=eh.Z0.displayName;var e_=t(14438),eC=t(21770),eR=t(61980);function eA(e){let{actionType:s,selectedEvent:t,selectedUser:n,onClose:i,onSuccess:d}=e,[c,o]=(0,r.useState)("user"),[u,m]=(0,r.useState)("active"),[x,h]=(0,r.useState)("ban"),j=(0,l.NL)(),f=(0,eC.D)({mutationFn:e=>(0,eR.rM)(e),onSuccess:()=>{e_.Am.success("Event deleted successfully"),j.invalidateQueries({queryKey:["admin-events"]}),j.invalidateQueries({queryKey:["admin-stats"]}),d()},onError:e=>{e_.Am.error((null==e?void 0:e.message)||"Failed to delete event")}}),p=(0,eC.D)({mutationFn:e=>{let{userId:s,banned:t}=e;return(0,eR.zf)(s,t)},onSuccess:(e,s)=>{e_.Am.success(s.banned?"User banned successfully":"User unbanned successfully"),j.invalidateQueries({queryKey:["admin-users"]}),j.invalidateQueries({queryKey:["admin-stats"]}),d()},onError:e=>{e_.Am.error((null==e?void 0:e.message)||"Failed to update user status")}}),v=(0,eC.D)({mutationFn:e=>{let{userId:s,role:t}=e;return(0,eR.y6)(s,t)},onSuccess:()=>{e_.Am.success("User role updated successfully"),j.invalidateQueries({queryKey:["admin-users"]}),j.invalidateQueries({queryKey:["admin-organizers"]}),j.invalidateQueries({queryKey:["admin-stats"]}),d()},onError:e=>{e_.Am.error((null==e?void 0:e.message)||"Failed to update user role")}}),g=(0,eC.D)({mutationFn:e=>{let{eventId:s,status:t}=e;return(0,eR.ob)(s,t)},onSuccess:()=>{e_.Am.success("Event status updated successfully"),j.invalidateQueries({queryKey:["admin-events"]}),j.invalidateQueries({queryKey:["admin-stats"]}),d()},onError:e=>{e_.Am.error((null==e?void 0:e.message)||"Failed to update event status")}});return"delete-event"===s&&t?(0,a.jsx)(eu.aR,{open:!0,onOpenChange:i,children:(0,a.jsxs)(eu._T,{children:[(0,a.jsxs)(eu.fY,{children:[(0,a.jsx)(eu.f$,{children:"Delete Event"}),(0,a.jsx)(eu.yT,{children:"Are you sure you want to delete this event? This action cannot be undone. All associated tickets and orders will also be affected."})]}),(0,a.jsxs)(eu.xo,{children:[(0,a.jsx)(eu.le,{children:"Cancel"}),(0,a.jsx)(eu.OL,{onClick:()=>{t&&f.mutate(t)},disabled:f.isPending,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:f.isPending?"Deleting...":"Delete"})]})]})}):"ban-user"===s&&n?(0,a.jsx)(em.Vq,{open:!0,onOpenChange:i,children:(0,a.jsxs)(em.cZ,{children:[(0,a.jsxs)(em.fK,{children:[(0,a.jsx)(em.$N,{children:"ban"===x?"Ban User":"Unban User"}),(0,a.jsx)(em.Be,{children:"ban"===x?"Are you sure you want to ban this user? They will not be able to access the platform.":"Are you sure you want to unban this user? They will regain access to the platform."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 py-4",children:[(0,a.jsx)(ex._,{children:"Action"}),(0,a.jsxs)(ev,{value:x,onValueChange:e=>h(e),children:[(0,a.jsx)(eN,{children:(0,a.jsx)(eg,{})}),(0,a.jsxs)(ew,{children:[(0,a.jsx)(ek,{value:"ban",children:"Ban User"}),(0,a.jsx)(ek,{value:"unban",children:"Unban User"})]})]})]}),(0,a.jsxs)(em.cN,{children:[(0,a.jsx)(ee.z,{variant:"outline",onClick:i,children:"Cancel"}),(0,a.jsx)(ee.z,{onClick:()=>{n&&p.mutate({userId:n,banned:"ban"===x})},disabled:p.isPending,variant:"ban"===x?"destructive":"default",children:p.isPending?"Processing...":"ban"===x?"Ban User":"Unban User"})]})]})}):"change-role"===s&&n?(0,a.jsx)(em.Vq,{open:!0,onOpenChange:i,children:(0,a.jsxs)(em.cZ,{children:[(0,a.jsxs)(em.fK,{children:[(0,a.jsx)(em.$N,{children:"Change User Role"}),(0,a.jsx)(em.Be,{children:"Select a new role for this user. Changing to creator will create a creator profile if it doesn't exist."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 py-4",children:[(0,a.jsx)(ex._,{children:"Role"}),(0,a.jsxs)(ev,{value:c,onValueChange:e=>o(e),children:[(0,a.jsx)(eN,{children:(0,a.jsx)(eg,{})}),(0,a.jsxs)(ew,{children:[(0,a.jsx)(ek,{value:"user",children:"User"}),(0,a.jsx)(ek,{value:"creator",children:"Creator"}),(0,a.jsx)(ek,{value:"admin",children:"Admin"})]})]})]}),(0,a.jsxs)(em.cN,{children:[(0,a.jsx)(ee.z,{variant:"outline",onClick:i,children:"Cancel"}),(0,a.jsx)(ee.z,{onClick:()=>{n&&v.mutate({userId:n,role:c})},disabled:v.isPending,children:v.isPending?"Updating...":"Update Role"})]})]})}):"change-status"===s&&t?(0,a.jsx)(em.Vq,{open:!0,onOpenChange:i,children:(0,a.jsxs)(em.cZ,{children:[(0,a.jsxs)(em.fK,{children:[(0,a.jsx)(em.$N,{children:"Change Event Status"}),(0,a.jsx)(em.Be,{children:"Select a new status for this event."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 py-4",children:[(0,a.jsx)(ex._,{children:"Status"}),(0,a.jsxs)(ev,{value:u,onValueChange:e=>m(e),children:[(0,a.jsx)(eN,{children:(0,a.jsx)(eg,{})}),(0,a.jsxs)(ew,{children:[(0,a.jsx)(ek,{value:"draft",children:"Draft"}),(0,a.jsx)(ek,{value:"active",children:"Active"}),(0,a.jsx)(ek,{value:"completed",children:"Completed"}),(0,a.jsx)(ek,{value:"cancelled",children:"Cancelled"})]})]})]}),(0,a.jsxs)(em.cN,{children:[(0,a.jsx)(ee.z,{variant:"outline",onClick:i,children:"Cancel"}),(0,a.jsx)(ee.z,{onClick:()=>{t&&g.mutate({eventId:t,status:u})},disabled:g.isPending,children:g.isPending?"Updating...":"Update Status"})]})]})}):null}function ez(e){let{events:s,users:t,organizers:n,orders:l,tickets:i,isLoading:d,onRefresh:c,activeView:o}=e,[j,f]=(0,r.useState)(null),[p,v]=(0,r.useState)(null),[N,b]=(0,r.useState)(null),y=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e),w=e=>l?l.filter(s=>s.event_id===e&&"paid"===s.payment_status).reduce((e,s)=>e+parseFloat(s.total_amount||0),0):0,k=e=>i?i.filter(s=>s.event_id===e).length:0,_=e=>{if(!s||!l)return{eventsCreated:0,totalRevenue:0};let t=s.filter(s=>s.creator_id===e),a=l.filter(e=>t.some(s=>s.id===e.event_id)&&"paid"===e.payment_status).reduce((e,s)=>e+parseFloat(s.total_amount||0),0);return{eventsCreated:t.length,totalRevenue:a}};return d?(0,a.jsxs)(u,{children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{children:"Loading data..."})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"h-64 w-full animate-pulse rounded bg-muted"})})]}):(0,a.jsxs)(a.Fragment,{children:["events"===o?(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsxs)(x,{className:"text-lg",children:["All Events (",(null==s?void 0:s.length)||0,")"]})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(Q,{children:[(0,a.jsx)($,{children:(0,a.jsxs)(G,{children:[(0,a.jsx)(X,{children:"Title"}),(0,a.jsx)(X,{children:"Organizer"}),(0,a.jsx)(X,{children:"Date"}),(0,a.jsx)(X,{children:"Status"}),(0,a.jsx)(X,{children:"Tickets Sold"}),(0,a.jsx)(X,{children:"Revenue"}),(0,a.jsx)(X,{children:"Actions"})]})}),(0,a.jsx)(Y,{children:s&&s.length>0?s.map(e=>{var s,t;return(0,a.jsxs)(G,{children:[(0,a.jsx)(H,{className:"font-medium",children:e.title}),(0,a.jsx)(H,{children:(null===(s=e.creator)||void 0===s?void 0:s.full_name)||(null===(t=e.creator)||void 0===t?void 0:t.email)||"Unknown"}),(0,a.jsx)(H,{children:(0,es.WU)(new Date(e.date),"MMM d, yyyy h:mm a")}),(0,a.jsx)(H,{children:(0,a.jsx)(J.C,{variant:"active"===e.status?"default":"completed"===e.status?"secondary":"cancelled"===e.status?"destructive":"outline",children:e.status})}),(0,a.jsx)(H,{children:k(e.id)}),(0,a.jsx)(H,{children:y(w(e.id))}),(0,a.jsx)(H,{children:(0,a.jsxs)(ec.h_,{children:[(0,a.jsx)(ec.$F,{asChild:!0,children:(0,a.jsx)(ee.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(et.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(ec.AW,{align:"end",children:[(0,a.jsx)(ec.Xi,{asChild:!0,children:(0,a.jsxs)(eo.default,{href:"/event/".concat(e.id),children:[(0,a.jsx)(ea.Z,{className:"mr-2 h-4 w-4"}),"View"]})}),(0,a.jsxs)(ec.Xi,{onClick:()=>{f(e.id),b("change-status")},children:[(0,a.jsx)(er.Z,{className:"mr-2 h-4 w-4"}),"Change Status"]}),(0,a.jsxs)(ec.Xi,{onClick:()=>{f(e.id),b("delete-event")},className:"text-destructive",children:[(0,a.jsx)(en.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},e.id)}):(0,a.jsx)(G,{children:(0,a.jsx)(H,{colSpan:7,className:"text-center text-muted-foreground",children:"No events found"})})})]})})})]}):"users"===o?(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsxs)(x,{className:"text-lg",children:["All Users (",(null==t?void 0:t.length)||0,")"]})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(Q,{children:[(0,a.jsx)($,{children:(0,a.jsxs)(G,{children:[(0,a.jsx)(X,{children:"Name"}),(0,a.jsx)(X,{children:"Email"}),(0,a.jsx)(X,{children:"Role"}),(0,a.jsx)(X,{children:"School"}),(0,a.jsx)(X,{children:"Created At"}),(0,a.jsx)(X,{children:"Status"}),(0,a.jsx)(X,{children:"Actions"})]})}),(0,a.jsx)(Y,{children:t&&t.length>0?t.map(e=>(0,a.jsxs)(G,{children:[(0,a.jsx)(H,{className:"font-medium",children:e.full_name||"N/A"}),(0,a.jsx)(H,{children:e.email}),(0,a.jsx)(H,{children:(0,a.jsx)(J.C,{variant:"admin"===e.role?"default":"creator"===e.role?"secondary":"outline",children:e.role})}),(0,a.jsx)(H,{children:e.school||"N/A"}),(0,a.jsx)(H,{children:(0,es.WU)(new Date(e.created_at),"MMM d, yyyy")}),(0,a.jsx)(H,{children:e.banned?(0,a.jsx)(J.C,{variant:"destructive",children:"Banned"}):(0,a.jsx)(J.C,{variant:"default",children:"Active"})}),(0,a.jsx)(H,{children:(0,a.jsxs)(ec.h_,{children:[(0,a.jsx)(ec.$F,{asChild:!0,children:(0,a.jsx)(ee.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(et.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(ec.AW,{align:"end",children:[(0,a.jsxs)(ec.Xi,{onClick:()=>{v(e.id),b("change-role")},children:[(0,a.jsx)(el.Z,{className:"mr-2 h-4 w-4"}),"Change Role"]}),(0,a.jsx)(ec.Xi,{onClick:()=>{v(e.id),b("ban-user")},className:"text-destructive",children:e.banned?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Unban User"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei.Z,{className:"mr-2 h-4 w-4"}),"Ban User"]})})]})]})})]},e.id)):(0,a.jsx)(G,{children:(0,a.jsx)(H,{colSpan:7,className:"text-center text-muted-foreground",children:"No users found"})})})]})})})]}):"organizers"===o?(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsxs)(x,{className:"text-lg",children:["All Organizers (",(null==n?void 0:n.length)||0,")"]})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(Q,{children:[(0,a.jsx)($,{children:(0,a.jsxs)(G,{children:[(0,a.jsx)(X,{children:"Name"}),(0,a.jsx)(X,{children:"Email"}),(0,a.jsx)(X,{children:"School"}),(0,a.jsx)(X,{children:"Bank Details"}),(0,a.jsx)(X,{children:"Events Created"}),(0,a.jsx)(X,{children:"Total Revenue"}),(0,a.jsx)(X,{children:"Actions"})]})}),(0,a.jsx)(Y,{children:n&&n.length>0?n.map(e=>{var s,t;let r=_(e.id);return(0,a.jsxs)(G,{children:[(0,a.jsx)(H,{className:"font-medium",children:e.full_name||"N/A"}),(0,a.jsx)(H,{children:e.email}),(0,a.jsx)(H,{children:e.school||"N/A"}),(0,a.jsx)(H,{children:(null===(s=e.creator_profile)||void 0===s?void 0:s.bank_account_name)?(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{children:e.creator_profile.bank_account_name}),(0,a.jsxs)("div",{className:"text-muted-foreground",children:[e.creator_profile.bank_name," • ",null===(t=e.creator_profile.bank_account_number)||void 0===t?void 0:t.slice(-4)]})]}):"Not set"}),(0,a.jsx)(H,{children:r.eventsCreated}),(0,a.jsx)(H,{children:y(r.totalRevenue)}),(0,a.jsx)(H,{children:(0,a.jsxs)(ec.h_,{children:[(0,a.jsx)(ec.$F,{asChild:!0,children:(0,a.jsx)(ee.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(et.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(ec.AW,{align:"end",children:(0,a.jsx)(ec.Xi,{asChild:!0,children:(0,a.jsxs)(eo.default,{href:"/dashboard/creator?userId=".concat(e.id),children:[(0,a.jsx)(ea.Z,{className:"mr-2 h-4 w-4"}),"View Profile"]})})})]})})]},e.id)}):(0,a.jsx)(G,{children:(0,a.jsx)(H,{colSpan:7,className:"text-center text-muted-foreground",children:"No organizers found"})})})]})})})]}):"orders"===o?(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsxs)(x,{className:"text-lg",children:["All Orders (",(null==l?void 0:l.length)||0,")"]})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(Q,{children:[(0,a.jsx)($,{children:(0,a.jsxs)(G,{children:[(0,a.jsx)(X,{children:"Order ID"}),(0,a.jsx)(X,{children:"Event"}),(0,a.jsx)(X,{children:"Buyer"}),(0,a.jsx)(X,{children:"Amount"}),(0,a.jsx)(X,{children:"Status"}),(0,a.jsx)(X,{children:"Date"}),(0,a.jsx)(X,{children:"Actions"})]})}),(0,a.jsx)(Y,{children:l&&l.length>0?l.map(e=>{var s,t;return(0,a.jsxs)(G,{children:[(0,a.jsxs)(H,{className:"font-mono text-xs",children:[e.id.slice(0,8),"..."]}),(0,a.jsx)(H,{children:(null===(s=e.event)||void 0===s?void 0:s.title)||"Unknown Event"}),(0,a.jsx)(H,{children:(null===(t=e.user)||void 0===t?void 0:t.full_name)||e.full_name||e.email}),(0,a.jsx)(H,{children:y(parseFloat(e.total_amount||0))}),(0,a.jsx)(H,{children:(0,a.jsx)(J.C,{variant:"paid"===e.payment_status?"default":"pending"===e.payment_status?"secondary":"failed"===e.payment_status?"destructive":"outline",children:e.payment_status})}),(0,a.jsx)(H,{children:(0,es.WU)(new Date(e.created_at),"MMM d, yyyy h:mm a")}),(0,a.jsx)(H,{children:(0,a.jsxs)(ec.h_,{children:[(0,a.jsx)(ec.$F,{asChild:!0,children:(0,a.jsx)(ee.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(et.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(ec.AW,{align:"end",children:(0,a.jsx)(ec.Xi,{asChild:!0,children:(0,a.jsxs)(eo.default,{href:"/invoice/".concat(e.id),children:[(0,a.jsx)(ea.Z,{className:"mr-2 h-4 w-4"}),"View Details"]})})})]})})]},e.id)}):(0,a.jsx)(G,{children:(0,a.jsx)(H,{colSpan:7,className:"text-center text-muted-foreground",children:"No orders found"})})})]})})})]}):"tickets"===o?(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsxs)(x,{className:"text-lg",children:["All Tickets (",(null==i?void 0:i.length)||0,")"]})}),(0,a.jsx)(h,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(Q,{children:[(0,a.jsx)($,{children:(0,a.jsxs)(G,{children:[(0,a.jsx)(X,{children:"Ticket ID"}),(0,a.jsx)(X,{children:"Event"}),(0,a.jsx)(X,{children:"Buyer"}),(0,a.jsx)(X,{children:"Type"}),(0,a.jsx)(X,{children:"Status"}),(0,a.jsx)(X,{children:"Created At"}),(0,a.jsx)(X,{children:"Actions"})]})}),(0,a.jsx)(Y,{children:i&&i.length>0?i.map(e=>{var s,t,r,n,l,i;return(0,a.jsxs)(G,{children:[(0,a.jsxs)(H,{className:"font-mono text-xs",children:[e.id.slice(0,8),"..."]}),(0,a.jsx)(H,{children:(null===(s=e.event)||void 0===s?void 0:s.title)||"Unknown Event"}),(0,a.jsx)(H,{children:(null===(t=e.user)||void 0===t?void 0:t.full_name)||(null===(r=e.user)||void 0===r?void 0:r.email)||"Guest"}),(0,a.jsxs)(H,{children:[(null===(n=e.ticket_type)||void 0===n?void 0:n.name)||"N/A"," (",(null===(l=e.ticket_type)||void 0===l?void 0:l.is_free)?"Free":y((null===(i=e.ticket_type)||void 0===i?void 0:i.price)||0),")"]}),(0,a.jsx)(H,{children:(0,a.jsx)(J.C,{variant:"valid"===e.status?"default":"used"===e.status?"secondary":"destructive",children:e.status})}),(0,a.jsx)(H,{children:(0,es.WU)(new Date(e.created_at),"MMM d, yyyy h:mm a")}),(0,a.jsx)(H,{children:(0,a.jsxs)(ec.h_,{children:[(0,a.jsx)(ec.$F,{asChild:!0,children:(0,a.jsx)(ee.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(et.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(ec.AW,{align:"end",children:(0,a.jsx)(ec.Xi,{asChild:!0,children:(0,a.jsxs)(eo.default,{href:"/invoice/".concat(e.order_id),children:[(0,a.jsx)(ea.Z,{className:"mr-2 h-4 w-4"}),"View Details"]})})})]})})]},e.id)}):(0,a.jsx)(G,{children:(0,a.jsx)(H,{colSpan:7,className:"text-center text-muted-foreground",children:"No tickets found"})})})]})})})]}):"ads"===o?(0,a.jsxs)(u,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(m,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ed.Z,{className:"h-5 w-5 text-primary"}),(0,a.jsx)(x,{className:"text-lg",children:"Advertisement Management"})]})}),(0,a.jsx)(h,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[(0,a.jsx)("div",{className:"rounded-full bg-primary/10 p-6 mb-6",children:(0,a.jsx)(ed.Z,{className:"h-12 w-12 text-primary"})}),(0,a.jsx)("h3",{className:"text-2xl font-semibold mb-2",children:"Coming Soon"}),(0,a.jsx)("p",{className:"text-muted-foreground text-center max-w-md mb-6",children:"Advertisement management features are currently under development. You'll be able to create, manage, and monitor ads for your platform soon."}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(J.C,{variant:"outline",className:"text-sm",children:"In Development"})})]})})]}):null,(0,a.jsx)(eA,{actionType:N,selectedEvent:j,selectedUser:p,onClose:()=>{b(null),f(null),v(null)},onSuccess:()=>{c(),b(null),f(null),v(null)}})]})}var eS=t(33145),eD=t(25466),eZ=t(16275),eF=t(91804),eT=t(32489),eU=t(58293),eO=t(73247),eK=t(98728),eq=t(40279);let eE=[{title:"Dashboard",value:"dashboard",icon:eD.Z},{title:"Events",value:"events",icon:j.Z},{title:"Users",value:"users",icon:f.Z},{title:"Organizers",value:"organizers",icon:g.Z},{title:"Orders",value:"orders",icon:eZ.Z},{title:"Tickets",value:"tickets",icon:v.Z},{title:"Withdrawals",value:"withdrawals",icon:eF.Z},{title:"Ads",value:"ads",icon:ed.Z}];function eM(e){var s;let{activeTab:t,onTabChange:n}=e,[l,i]=(0,r.useState)(!1),{profile:c}=(0,d.a)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,a.jsx)(ee.z,{variant:"outline",size:"icon",onClick:()=>i(!l),className:"bg-card",children:l?(0,a.jsx)(eT.Z,{className:"h-5 w-5"}):(0,a.jsx)(eU.Z,{className:"h-5 w-5"})})}),(0,a.jsx)("aside",{className:(0,o.cn)("fixed left-0 top-0 z-40 h-screen w-64 border-r border-border bg-card transition-transform lg:translate-x-0",l?"translate-x-0":"-translate-x-full"),children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsx)("div",{className:"flex h-16 items-center border-b border-border px-6",children:(0,a.jsx)("div",{className:"relative w-40 h-12",children:(0,a.jsx)(eS.default,{src:"/logo.png",alt:"Frecks Live Admin",fill:!0,className:"object-contain object-left",priority:!0})})}),(0,a.jsx)("div",{className:"border-b border-border p-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(eO.Z,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(eq.I,{type:"search",placeholder:"Search...",className:"pl-9 bg-background"})]})}),(0,a.jsx)("nav",{className:"flex-1 space-y-1 p-4 overflow-y-auto",children:eE.map(e=>{let s=e.icon,r=t===e.value;return(0,a.jsxs)("button",{onClick:()=>{n(e.value),i(!1)},className:(0,o.cn)("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",r?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[(0,a.jsx)(s,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:e.title})]},e.value)})}),(0,a.jsx)("div",{className:"border-t border-border p-4",children:(0,a.jsxs)("button",{className:"flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-muted-foreground hover:bg-muted hover:text-foreground",children:[(0,a.jsx)(eK.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Settings"})]})}),(0,a.jsx)("div",{className:"border-t border-border p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground",children:(null==c?void 0:null===(s=c.full_name)||void 0===s?void 0:s.charAt(0).toUpperCase())||"A"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:(null==c?void 0:c.full_name)||"Admin"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:(null==c?void 0:c.email)||""})]})]})})]})}),l&&(0,a.jsx)("div",{className:"fixed inset-0 z-30 bg-background/80 backdrop-blur-sm lg:hidden",onClick:()=>i(!1)})]})}var eL=t(23675),eV=t(51817),eW=t(92934),eP=t(91723),eI=t(99388);function eB(){var e;let{user:s}=(0,d.a)(),t=(0,l.NL)(),[n,o]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)("approve"),[j,f]=(0,r.useState)(""),[p,v]=(0,r.useState)("all"),{data:g,isLoading:N}=(0,i.a)({queryKey:["all-withdrawals"],queryFn:c.T_}),b=(0,eC.D)({mutationFn:async e=>{let{withdrawalId:t,note:a}=e;if(!(null==s?void 0:s.id))throw Error("User not authenticated");return(0,eR.E$)(t,s.id,a)},onSuccess:()=>{e_.Am.success("Withdrawal approved successfully!"),t.invalidateQueries({queryKey:["all-withdrawals"]}),m(!1),o(null),f("")},onError:e=>{e_.Am.error(e.message||"Failed to approve withdrawal")}}),y=(0,eC.D)({mutationFn:async e=>{let{withdrawalId:t,note:a}=e;if(!(null==s?void 0:s.id))throw Error("User not authenticated");return(0,eR.cD)(t,s.id,a)},onSuccess:()=>{e_.Am.success("Withdrawal rejected successfully!"),t.invalidateQueries({queryKey:["all-withdrawals"]}),m(!1),o(null),f("")},onError:e=>{e_.Am.error(e.message||"Failed to reject withdrawal")}}),w=(e,s)=>{o(e),h(s),f(""),m(!0)},k=null==g?void 0:g.filter(e=>"all"===p||e.status===p),_={pending:(null==g?void 0:g.filter(e=>"pending"===e.status).length)||0,approved:(null==g?void 0:g.filter(e=>"approved"===e.status).length)||0,rejected:(null==g?void 0:g.filter(e=>"rejected"===e.status).length)||0,total:(null==g?void 0:g.length)||0};return N?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)(eV.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading withdrawals..."})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-card rounded-lg border border-border p-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Requests"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:_.total})]}),(0,a.jsxs)("div",{className:"bg-orange-500/10 rounded-lg border border-orange-500/20 p-4",children:[(0,a.jsx)("p",{className:"text-sm text-orange-800 dark:text-orange-200 mb-1",children:"Pending"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-900 dark:text-orange-100",children:_.pending})]}),(0,a.jsxs)("div",{className:"bg-green-500/10 rounded-lg border border-green-500/20 p-4",children:[(0,a.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200 mb-1",children:"Approved"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:_.approved})]}),(0,a.jsxs)("div",{className:"bg-red-500/10 rounded-lg border border-red-500/20 p-4",children:[(0,a.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200 mb-1",children:"Rejected"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:_.rejected})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(ee.z,{variant:"all"===p?"default":"outline",size:"sm",onClick:()=>v("all"),children:"All"}),(0,a.jsx)(ee.z,{variant:"pending"===p?"default":"outline",size:"sm",onClick:()=>v("pending"),children:"Pending"}),(0,a.jsx)(ee.z,{variant:"approved"===p?"default":"outline",size:"sm",onClick:()=>v("approved"),children:"Approved"}),(0,a.jsx)(ee.z,{variant:"rejected"===p?"default":"outline",size:"sm",onClick:()=>v("rejected"),children:"Rejected"})]}),(0,a.jsx)("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:(0,a.jsxs)(Q,{children:[(0,a.jsx)($,{children:(0,a.jsxs)(G,{children:[(0,a.jsx)(X,{children:"Creator"}),(0,a.jsx)(X,{children:"Amount"}),(0,a.jsx)(X,{children:"Bank Details"}),(0,a.jsx)(X,{children:"Status"}),(0,a.jsx)(X,{children:"Date"}),(0,a.jsx)(X,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(Y,{children:k&&0!==k.length?k.map(e=>{var s,t;return(0,a.jsxs)(G,{children:[(0,a.jsx)(H,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(null===(s=e.creator)||void 0===s?void 0:s.full_name)||"N/A"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:null===(t=e.creator)||void 0===t?void 0:t.email})]})}),(0,a.jsx)(H,{children:(0,a.jsxs)("p",{className:"font-bold text-lg",children:["₦",Number(e.amount).toLocaleString()]})}),(0,a.jsx)(H,{children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-medium",children:e.bank_account_name}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e.bank_name}),(0,a.jsx)("p",{className:"text-muted-foreground font-mono",children:e.bank_account_number})]})}),(0,a.jsx)(H,{children:(0,a.jsx)(J.C,{variant:"approved"===e.status||"completed"===e.status?"default":"pending"===e.status?"secondary":"destructive",children:"approved"===e.status?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eW.Z,{className:"w-3 h-3 mr-1"})," Approved"]}):"pending"===e.status?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eP.Z,{className:"w-3 h-3 mr-1"})," Pending"]}):"rejected"===e.status?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eI.Z,{className:"w-3 h-3 mr-1"})," Rejected"]}):e.status})}),(0,a.jsxs)(H,{children:[(0,a.jsx)("p",{className:"text-sm",children:(0,es.WU)(new Date(e.created_at),"MMM d, yyyy")}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,es.WU)(new Date(e.created_at),"h:mm a")})]}),(0,a.jsx)(H,{className:"text-right",children:"pending"===e.status?(0,a.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,a.jsxs)(ee.z,{size:"sm",variant:"default",onClick:()=>w(e,"approve"),className:"gap-1",children:[(0,a.jsx)(eW.Z,{className:"w-3 h-3"}),"Approve"]}),(0,a.jsxs)(ee.z,{size:"sm",variant:"destructive",onClick:()=>w(e,"reject"),className:"gap-1",children:[(0,a.jsx)(eI.Z,{className:"w-3 h-3"}),"Reject"]})]}):(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.admin_note&&(0,a.jsxs)("p",{className:"italic",children:['"',e.admin_note,'"']}),e.approved_at&&(0,a.jsx)("p",{className:"text-xs mt-1",children:(0,es.WU)(new Date(e.approved_at),"MMM d, yyyy")})]})})]},e.id)}):(0,a.jsx)(G,{children:(0,a.jsx)(H,{colSpan:6,className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No withdrawal requests found"})})})})]})}),(0,a.jsx)(em.Vq,{open:u,onOpenChange:m,children:(0,a.jsxs)(em.cZ,{children:[(0,a.jsxs)(em.fK,{children:[(0,a.jsx)(em.$N,{children:"approve"===x?"Approve Withdrawal":"Reject Withdrawal"}),(0,a.jsx)(em.Be,{children:"approve"===x?"Confirm that you want to approve this withdrawal request.":"Provide a reason for rejecting this withdrawal request."})]}),n&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Creator:"}),(0,a.jsx)("span",{className:"font-medium",children:null===(e=n.creator)||void 0===e?void 0:e.full_name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),(0,a.jsxs)("span",{className:"font-bold text-lg",children:["₦",Number(n.amount).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Bank:"}),(0,a.jsx)("span",{className:"font-medium",children:n.bank_name})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Account:"}),(0,a.jsx)("span",{className:"font-mono text-sm",children:n.bank_account_number})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Account Name:"}),(0,a.jsx)("span",{className:"font-medium",children:n.bank_account_name})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(ex._,{htmlFor:"admin-note",children:"approve"===x?"Note (Optional)":"Reason for Rejection *"}),(0,a.jsx)(eL.g,{id:"admin-note",placeholder:"approve"===x?"Add any notes about this approval...":"Explain why this withdrawal is being rejected...",value:j,onChange:e=>f(e.target.value),className:"mt-2",rows:3})]})]}),(0,a.jsxs)(em.cN,{children:[(0,a.jsx)(ee.z,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,a.jsx)(ee.z,{variant:"approve"===x?"default":"destructive",onClick:()=>{if(n){if("approve"===x)b.mutate({withdrawalId:n.id,note:j||void 0});else{if(!j.trim()){e_.Am.error("Please provide a reason for rejection");return}y.mutate({withdrawalId:n.id,note:j})}}},disabled:b.isPending||y.isPending,children:b.isPending||y.isPending?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eV.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):"approve"===x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eW.Z,{className:"w-4 h-4 mr-2"}),"Approve"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eI.Z,{className:"w-4 h-4 mr-2"}),"Reject"]})})]})]})})]})}var eQ=t(92735),e$=t(48736),eY=t(20271);let eG=eY.fC;r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eY.aV,{ref:s,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})}).displayName=eY.aV.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eY.xz,{ref:s,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...r})}).displayName=eY.xz.displayName;let eX=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(eY.VY,{ref:s,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});eX.displayName=eY.VY.displayName;let eH="jabulanietokakpan@gmail.com";function eJ(){var e;let{user:s,profile:t,loading:o}=(0,d.a)(),j=(0,n.useRouter)(),f=(0,l.NL)(),[p,v]=(0,r.useState)("dashboard"),g=(0,r.useMemo)(()=>!!s&&(null==t?void 0:t.email)===eH,[s,null==t?void 0:t.email]);(0,r.useEffect)(()=>{if(!o){if(!s||!t){j.replace("/auth/signin?redirect=/admin");return}if(t.email!==eH){j.replace("/");return}}},[s,t,o,j]);let{data:N,isLoading:y}=(0,i.a)({queryKey:["admin-stats"],queryFn:c.Y9,enabled:g,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3e5}),{data:w,isLoading:k}=(0,i.a)({queryKey:["admin-events"],queryFn:c.IP,enabled:g,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3e5}),{data:_,isLoading:C}=(0,i.a)({queryKey:["admin-users"],queryFn:c.AW,enabled:g,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3e5}),{data:R,isLoading:A}=(0,i.a)({queryKey:["admin-organizers"],queryFn:c.sN,enabled:g,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3e5}),{data:z,isLoading:S}=(0,i.a)({queryKey:["admin-orders"],queryFn:c.zk,enabled:g,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3e5}),{data:D,isLoading:Z}=(0,i.a)({queryKey:["admin-tickets"],queryFn:c.fX,enabled:g,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,staleTime:3e5}),F=o||y||k||C||A||S||Z,T=()=>{f.invalidateQueries({queryKey:["admin-stats"]}),f.invalidateQueries({queryKey:["admin-events"]}),f.invalidateQueries({queryKey:["admin-users"]}),f.invalidateQueries({queryKey:["admin-organizers"]}),f.invalidateQueries({queryKey:["admin-orders"]}),f.invalidateQueries({queryKey:["admin-tickets"]})};return o||F?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(eV.Z,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading admin dashboard..."})]})}):s&&t&&t.email===eH?(0,a.jsxs)("div",{className:"min-h-screen flex bg-background",children:[(0,a.jsx)(eM,{activeTab:p,onTabChange:v}),(0,a.jsx)("main",{className:"flex-1 lg:ml-64",children:(0,a.jsxs)("div",{className:"p-6 lg:p-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",(null==t?void 0:null===(e=t.full_name)||void 0===e?void 0:e.split(" ")[0])||"Admin"]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Monitor and manage all platform data, events, users, and revenue."})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(ee.z,{onClick:T,variant:"outline",className:"gap-2",children:[(0,a.jsx)(eQ.Z,{className:"h-4 w-4"}),"Export Data"]}),(0,a.jsxs)(ee.z,{onClick:T,className:"gap-2",children:[(0,a.jsx)(e$.Z,{className:"h-4 w-4"}),"Create Report"]})]})]})}),(0,a.jsxs)(eG,{value:p,onValueChange:v,className:"w-full",children:[(0,a.jsxs)(eX,{value:"dashboard",className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Overview"}),(0,a.jsx)(b,{stats:N,isLoading:y})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Analytics & Insights"}),(0,a.jsx)(B,{events:w,orders:z,tickets:D,users:_,isLoading:k||S||Z||C})]})]}),(0,a.jsx)(eX,{value:"events",children:(0,a.jsx)(ez,{events:w,users:_,organizers:R,orders:z,tickets:D,isLoading:k,onRefresh:T,activeView:"events"})}),(0,a.jsx)(eX,{value:"users",children:(0,a.jsx)(ez,{events:w,users:_,organizers:R,orders:z,tickets:D,isLoading:C,onRefresh:T,activeView:"users"})}),(0,a.jsx)(eX,{value:"organizers",children:(0,a.jsx)(ez,{events:w,users:_,organizers:R,orders:z,tickets:D,isLoading:A,onRefresh:T,activeView:"organizers"})}),(0,a.jsx)(eX,{value:"orders",children:(0,a.jsx)(ez,{events:w,users:_,organizers:R,orders:z,tickets:D,isLoading:S,onRefresh:T,activeView:"orders"})}),(0,a.jsx)(eX,{value:"tickets",children:(0,a.jsx)(ez,{events:w,users:_,organizers:R,orders:z,tickets:D,isLoading:Z,onRefresh:T,activeView:"tickets"})}),(0,a.jsx)(eX,{value:"withdrawals",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Withdrawal Requests"}),(0,a.jsx)(eB,{})]})}),(0,a.jsx)(eX,{value:"ads",children:(0,a.jsx)(ez,{events:w,users:_,organizers:R,orders:z,tickets:D,isLoading:!1,onRefresh:T,activeView:"ads"})})]})]})})]}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,a.jsxs)(u,{children:[(0,a.jsx)(m,{children:(0,a.jsx)(x,{children:"Access Denied"})}),(0,a.jsxs)(h,{children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"You do not have permission to access the admin dashboard."}),(0,a.jsx)(ee.z,{onClick:()=>j.push("/"),children:"Go Home"})]})]})})}},69174:function(e,s,t){"use strict";t.d(s,{C:function(){return i}});var a=t(57437);t(2265);var r=t(90535),n=t(93448);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:t}),s),...r})}},74291:function(e,s,t){"use strict";t.d(s,{$N:function(){return h},Be:function(){return j},Vq:function(){return d},cN:function(){return x},cZ:function(){return u},fK:function(){return m}});var a=t(57437),r=t(2265),n=t(49027),l=t(32489),i=t(93448);let d=n.fC;n.xz;let c=n.h_;n.x8;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.aV,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});o.displayName=n.aV.displayName;let u=r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(o,{}),(0,a.jsxs)(n.VY,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[r,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.VY.displayName;let m=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};m.displayName="DialogHeader";let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};x.displayName="DialogFooter";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});h.displayName=n.Dx.displayName;let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});j.displayName=n.dk.displayName},32060:function(e,s,t){"use strict";t.d(s,{$F:function(){return u},AW:function(){return m},Xi:function(){return x},h_:function(){return o}});var a=t(57437),r=t(2265),n=t(70085),l=t(10407),i=t(30401),d=t(40519),c=t(93448);let o=n.fC,u=n.xz;n.ZA,n.Uv,n.Tr,n.Ee,r.forwardRef((e,s)=>{let{className:t,inset:r,children:i,...d}=e;return(0,a.jsxs)(n.fF,{ref:s,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",r&&"pl-8",t),...d,children:[i,(0,a.jsx)(l.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=n.fF.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.tu,{ref:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=n.tu.displayName;let m=r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...l}=e;return(0,a.jsx)(n.Uv,{children:(0,a.jsx)(n.VY,{ref:s,sideOffset:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})})});m.displayName=n.VY.displayName;let x=r.forwardRef((e,s)=>{let{className:t,inset:r,...l}=e;return(0,a.jsx)(n.ck,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",t),...l})});x.displayName=n.ck.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,checked:l,...d}=e;return(0,a.jsxs)(n.oC,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:l,...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})}),r]})}).displayName=n.oC.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(n.Rk,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(d.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=n.Rk.displayName,r.forwardRef((e,s)=>{let{className:t,inset:r,...l}=e;return(0,a.jsx)(n.__,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...l})}).displayName=n.__.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=n.Z0.displayName},23675:function(e,s,t){"use strict";t.d(s,{g:function(){return l}});var a=t(57437),r=t(2265),n=t(93448);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});l.displayName="Textarea"}},function(e){e.O(0,[4182,2972,5506,2642,3850,5730,758,2893,1713,4438,7788,4073,9913,8748,2971,2117,1744],function(){return e(e.s=91816)}),_N_E=e.O()}]);