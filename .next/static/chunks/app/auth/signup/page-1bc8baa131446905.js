(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5271],{3736:function(e,r,t){Promise.resolve().then(t.bind(t,83711))},83711:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return T}});var a=t(57437),s=t(2265),i=t(27648),n=t(99376),l=t(29501),o=t(13590),d=t(67119),c=t(12381),u=t(40279),m=t(75060),f=t(86700),x=t(12749),h=t(2596),p=t(5526),v=t(14362),g=t(88361),y=t(92834),b=t(23554),j=t(87769),N=t(42208),w=t(24156),U=t(99397),_=t(30401),k=t(93448),I=t(25038);t(31354);let C=["TrEric","TrTorsten","TrIggy","TrFranklin","TrImran","TrAlex","TrFelix","TrEnrique","TrHarry","TrStu","TrChad"],S=["TrChelsea","TrSamantha","TrMaria","TrRachel","TrShamila","TrSophia","TrHelen","TrNancy"],A=["TrAlex","TrFelix","TrSophia","TrHarry","TrHelen"],E=d.Ry({email:d.Z_().email("Invalid email address"),password:d.Z_().min(6,"Password must be at least 6 characters"),full_name:d.Z_().min(2,"Name must be at least 2 characters"),gender:d.Km(["male","female","other"],{required_error:"Please select your gender"}),avatar_name:d.Z_().min(1,"Please select an avatar"),school:d.Z_().min(2,"Please enter or select your school"),role:d.Km(["user","creator"],{required_error:"Please select a role"})});function T(){let e=(0,n.useRouter)(),{user:r,profile:t,loading:d}=(0,v.a)(),[T,O]=(0,s.useState)(null),[z,R]=(0,s.useState)(!1),[Y,F]=(0,s.useState)(!1),[Z,P]=(0,s.useState)(""),[B,V]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!d&&r&&t){let r=new URLSearchParams(window.location.search).get("redirect")||"/dashboard";e.replace(r)}},[r,t,d,e]);let{register:M,handleSubmit:L,watch:D,setValue:J,formState:{errors:H}}=(0,l.cI)({resolver:(0,o.F)(E),defaultValues:{role:"user"}}),q=D("role"),G=D("school"),K=D("gender"),W=D("avatar_name"),X="male"===K?C:"female"===K?S:A,$=async e=>{R(!0),O(null);try{let{data:r,error:t}=await p.supabase.auth.signUp({email:e.email,password:e.password});if(t)throw t;if(!r.user)throw Error("User creation failed");let{error:a}=await p.supabase.from("users").insert({id:r.user.id,email:e.email,full_name:e.full_name,role:e.role,gender:e.gender,school:e.school,avatar_name:e.avatar_name});if(a)throw console.error("Profile creation error:",a),Error(a.message||"Failed to create user profile");"creator"===e.role&&await p.supabase.from("creator_profiles").insert({user_id:r.user.id});try{let r=window.location.origin;await fetch("".concat(r,"/api/send-email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"welcome",userName:e.full_name,email:e.email})}).catch(e=>{console.error("Failed to send welcome email:",e)})}catch(e){console.error("Error sending welcome email:",e)}R(!1)}catch(e){O(e.message||"Failed to sign up"),R(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col mt-10",children:[(0,a.jsx)(g.default,{}),(0,a.jsx)("main",{className:"flex-1 flex items-center justify-center px-4 py-20",children:(0,a.jsx)("div",{className:"w-full max-w-md",children:(0,a.jsxs)("div",{className:"bg-card rounded-2xl border border-border shadow-card p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Create Account"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6",children:"Join Frecks today"}),T&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-destructive/10 text-destructive rounded-lg text-sm",children:T}),(0,a.jsxs)("form",{onSubmit:L($),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m._,{htmlFor:"full_name",children:"Full Name"}),(0,a.jsx)(u.I,{id:"full_name",type:"text",placeholder:"John Doe",...M("full_name"),className:H.full_name?"border-destructive":""}),H.full_name&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:H.full_name.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m._,{htmlFor:"email",children:"Email"}),(0,a.jsx)(u.I,{id:"email",type:"email",placeholder:"you@example.com",...M("email"),className:H.email?"border-destructive":""}),H.email&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:H.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m._,{htmlFor:"password",children:"Password"}),(0,a.jsxs)("div",{className:"relative mt-2",children:[(0,a.jsx)(u.I,{id:"password",type:B?"text":"password",placeholder:"••••••••",...M("password"),className:(0,k.cn)("pr-10",H.password?"border-destructive":"")}),(0,a.jsx)("button",{type:"button",onClick:()=>V(!B),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:B?(0,a.jsx)(j.Z,{className:"h-4 w-4"}):(0,a.jsx)(N.Z,{className:"h-4 w-4"})})]}),H.password&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:H.password.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m._,{children:"Gender"}),(0,a.jsxs)(f.E,{value:K,onValueChange:e=>J("gender",e),className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-lg border border-border hover:bg-muted/50",children:[(0,a.jsx)(f.m,{value:"male",id:"male"}),(0,a.jsx)(m._,{htmlFor:"male",className:"cursor-pointer flex-1",children:"Male"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-lg border border-border hover:bg-muted/50",children:[(0,a.jsx)(f.m,{value:"female",id:"female"}),(0,a.jsx)(m._,{htmlFor:"female",className:"cursor-pointer flex-1",children:"Female"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-lg border border-border hover:bg-muted/50",children:[(0,a.jsx)(f.m,{value:"other",id:"other"}),(0,a.jsx)(m._,{htmlFor:"other",className:"cursor-pointer flex-1",children:"Other"})]})]}),H.gender&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:H.gender.message})]}),K&&(0,a.jsxs)("div",{children:[(0,a.jsx)(m._,{children:"Choose Your Avatar"}),(0,a.jsx)("div",{className:"grid grid-cols-6 gap-2 mt-2",children:X.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>J("avatar_name",e,{shouldValidate:!0}),className:(0,k.cn)("p-2 rounded-full border-2 transition-all hover:scale-110 flex items-center justify-center",W===e?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:(0,a.jsx)(I.qU,{name:e,size:"sm",rounded:!0})},e))}),(0,a.jsx)("input",{type:"hidden",...M("avatar_name")}),H.avatar_name&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:H.avatar_name.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m._,{htmlFor:"school",children:"School"}),(0,a.jsxs)(x.J2,{open:Y,onOpenChange:F,children:[(0,a.jsx)(x.xo,{asChild:!0,children:(0,a.jsxs)(c.z,{variant:"outline",role:"combobox","aria-expanded":Y,className:"w-full justify-between mt-2",children:[G||"Select or enter your school...",(0,a.jsx)(w.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,a.jsx)(x.yk,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:(0,a.jsxs)(h.mY,{children:[(0,a.jsx)(h.sZ,{placeholder:"Search school or type to add custom...",onValueChange:e=>{P(e)}}),(0,a.jsxs)(h.e8,{children:[(0,a.jsx)(h.rb,{children:(0,a.jsx)("div",{className:"py-2 px-4",children:(0,a.jsxs)(c.z,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>{Z&&(J("school",Z,{shouldValidate:!0}),F(!1),P(""))},children:[(0,a.jsx)(U.Z,{className:"mr-2 h-4 w-4"}),'Add "',Z||"Custom School",'"']})})}),(0,a.jsx)(h.fu,{children:b.u.map(e=>(0,a.jsxs)(h.di,{value:e,onSelect:()=>{J("school",e,{shouldValidate:!0}),F(!1)},children:[(0,a.jsx)(_.Z,{className:(0,k.cn)("mr-2 h-4 w-4",G===e?"opacity-100":"opacity-0")}),e]},e))}),Z&&!b.u.some(e=>e.toLowerCase().includes(Z.toLowerCase()))&&(0,a.jsx)(h.fu,{children:(0,a.jsxs)(h.di,{value:"add-".concat(Z),onSelect:()=>{J("school",Z,{shouldValidate:!0}),F(!1),P("")},children:[(0,a.jsx)(U.Z,{className:"mr-2 h-4 w-4"}),'Add "',Z,'"']})})]})]})})]}),(0,a.jsx)("input",{type:"hidden",...M("school")}),H.school&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:H.school.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m._,{children:"I want to"}),(0,a.jsxs)(f.E,{value:q,onValueChange:e=>J("role",e),className:"mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-lg border border-border hover:bg-muted/50",children:[(0,a.jsx)(f.m,{value:"user",id:"user"}),(0,a.jsx)(m._,{htmlFor:"user",className:"cursor-pointer flex-1",children:"Browse and buy tickets"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 rounded-lg border border-border hover:bg-muted/50",children:[(0,a.jsx)(f.m,{value:"creator",id:"creator"}),(0,a.jsx)(m._,{htmlFor:"creator",className:"cursor-pointer flex-1",children:"Create and sell tickets"})]})]}),H.role&&(0,a.jsx)("p",{className:"text-sm text-destructive mt-1",children:H.role.message})]}),(0,a.jsx)(c.z,{type:"submit",variant:"hero",className:"w-full",disabled:z,children:z?"Creating account...":"Sign Up"})]}),(0,a.jsxs)("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,a.jsx)(i.default,{href:"/auth/signin",className:"text-primary hover:underline",children:"Sign in"})]})]})})}),(0,a.jsx)(y.Z,{})]})}},92834:function(e,r,t){"use strict";var a=t(57437),s=t(27648),i=t(33145),n=t(37760),l=t(42351),o=t(79219),d=t(74767),c=t(12381);r.Z=e=>{let{showNewsletter:r=!1}=e;return(0,a.jsxs)("footer",{id:"about",className:"bg-card border-t border-border",children:[r&&(0,a.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,a.jsxs)("div",{className:"bg-primary rounded-3xl p-8 md:p-12 text-center",children:[(0,a.jsx)("h3",{className:"text-2xl md:text-3xl font-bold text-primary-foreground mb-4",children:"Never Miss an Event! \uD83C\uDFAB"}),(0,a.jsx)("p",{className:"text-primary-foreground/80 mb-6 max-w-md mx-auto",children:"Subscribe to get notified about new events, exclusive deals, and early bird tickets."}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 max-w-md mx-auto",children:[(0,a.jsx)("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-5 py-3 rounded-full bg-primary-foreground/20 border border-primary-foreground/30 text-primary-foreground placeholder:text-primary-foreground/60 outline-none focus:ring-2 focus:ring-primary-foreground/50"}),(0,a.jsx)(c.z,{variant:"secondary",size:"lg",children:"Subscribe"})]})]})}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(s.default,{href:"/",className:"flex items-center gap-2 mb-4 relative w-32 h-12",children:(0,a.jsx)(i.default,{src:"/logo.png",alt:"Frecks",fill:!0,className:"object-contain object-left"})}),(0,a.jsx)("p",{className:"text-muted-foreground mb-6 max-w-xs",children:"Your go-to platform for discovering and booking campus events. Made by students, for students."}),(0,a.jsx)("div",{className:"flex gap-3",children:[n.Z,l.Z,o.Z,d.Z].map((e,r)=>(0,a.jsx)("a",{href:"#",className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center hover:bg-primary hover:text-primary-foreground transition-colors",children:(0,a.jsx)(e,{className:"w-5 h-5"})},r))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-4",children:"Company"}),(0,a.jsx)("ul",{className:"space-y-2",children:["About Us","Careers","Blog","Press"].map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:e})},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-4",children:"Support"}),(0,a.jsx)("ul",{className:"space-y-2",children:["Help Center","Safety","Terms","Privacy"].map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:e})},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-4",children:"For Venues"}),(0,a.jsx)("ul",{className:"space-y-2",children:["Partner With Us","List Your Event","Pricing","Resources"].map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",className:"text-muted-foreground hover:text-primary transition-colors",children:e})},e))})]})]})}),(0,a.jsx)("div",{className:"border-t border-border",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsx)("p",{children:"\xa9 2026 Frecks. All rights reserved."}),(0,a.jsx)("p",{children:"Made with \uD83E\uDDE1 for students everywhere"})]})})})]})}},12381:function(e,r,t){"use strict";t.d(r,{d:function(){return o},z:function(){return d}});var a=t(57437),s=t(2265),i=t(37053),n=t(90535),l=t(93448);let o=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-semibold transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-button hover:brightness-110 active:scale-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:brightness-110 active:scale-95",ghost:"hover:bg-muted hover:text-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"bg-primary text-primary-foreground shadow-button hover:brightness-110 active:scale-95 font-bold",accent:"bg-accent text-accent-foreground border border-border hover:bg-muted active:scale-95"},size:{default:"h-11 px-6 py-2",sm:"h-9 px-4 text-xs",lg:"h-14 px-8 text-base",xl:"h-16 px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:t,variant:s,size:n,asChild:d=!1,...c}=e,u=d?i.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:s,size:n,className:t})),ref:r,...c})});d.displayName="Button"},2596:function(e,r,t){"use strict";t.d(r,{di:function(){return f},e8:function(){return c},fu:function(){return m},mY:function(){return o},rb:function(){return u},sZ:function(){return d}});var a=t(57437),s=t(2265),i=t(46343),n=t(73247),l=t(93448);t(74291);let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.mY,{ref:r,className:(0,l.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...s})});o.displayName=i.mY.displayName;let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,a.jsx)(n.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,a.jsx)(i.mY.Input,{ref:r,className:(0,l.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...s})]})});d.displayName=i.mY.Input.displayName;let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.mY.List,{ref:r,className:(0,l.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...s})});c.displayName=i.mY.List.displayName;let u=s.forwardRef((e,r)=>(0,a.jsx)(i.mY.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));u.displayName=i.mY.Empty.displayName;let m=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.mY.Group,{ref:r,className:(0,l.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...s})});m.displayName=i.mY.Group.displayName,s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.mY.Separator,{ref:r,className:(0,l.cn)("-mx-1 h-px bg-border",t),...s})}).displayName=i.mY.Separator.displayName;let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.mY.Item,{ref:r,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...s})});f.displayName=i.mY.Item.displayName},74291:function(e,r,t){"use strict";t.d(r,{$N:function(){return x},Be:function(){return h},Vq:function(){return o},cN:function(){return f},cZ:function(){return u},fK:function(){return m}});var a=t(57437),s=t(2265),i=t(49027),n=t(32489),l=t(93448);let o=i.fC;i.xz;let d=i.h_;i.x8;let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.aV,{ref:r,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});c.displayName=i.aV.displayName;let u=s.forwardRef((e,r)=>{let{className:t,children:s,...o}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(i.VY,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[s,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=i.VY.displayName;let m=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",r),...t})};m.displayName="DialogHeader";let f=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t})};f.displayName="DialogFooter";let x=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.Dx,{ref:r,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});x.displayName=i.Dx.displayName;let h=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.dk,{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",t),...s})});h.displayName=i.dk.displayName},40279:function(e,r,t){"use strict";t.d(r,{I:function(){return n}});var a=t(57437),s=t(2265),i=t(93448);let n=s.forwardRef((e,r)=>{let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n})});n.displayName="Input"},75060:function(e,r,t){"use strict";t.d(r,{_:function(){return d}});var a=t(57437),s=t(2265),i=t(6394),n=t(90535),l=t(93448);let o=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.f,{ref:r,className:(0,l.cn)(o(),t),...s})});d.displayName=i.f.displayName},12749:function(e,r,t){"use strict";t.d(r,{J2:function(){return l},xo:function(){return o},yk:function(){return d}});var a=t(57437),s=t(2265),i=t(27312),n=t(93448);let l=i.fC,o=i.xz,d=s.forwardRef((e,r)=>{let{className:t,align:s="center",sideOffset:l=4,...o}=e;return(0,a.jsx)(i.h_,{children:(0,a.jsx)(i.VY,{ref:r,align:s,sideOffset:l,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})})});d.displayName=i.VY.displayName},86700:function(e,r,t){"use strict";t.d(r,{E:function(){return o},m:function(){return d}});var a=t(57437),s=t(2265),i=t(42325),n=t(40519),l=t(93448);let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.fC,{className:(0,l.cn)("grid gap-2",t),...s,ref:r})});o.displayName=i.fC.displayName;let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(i.ck,{ref:r,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,a.jsx)(i.z$,{className:"flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"h-2.5 w-2.5 fill-current text-current"})})})});d.displayName=i.ck.displayName},14362:function(e,r,t){"use strict";t.d(r,{H:function(){return o},a:function(){return l}});var a=t(57437),s=t(2265),i=t(5526);let n=(0,s.createContext)(void 0),l=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},o=e=>{let{children:r}=e,[t,l]=(0,s.useState)(null),[o,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(null),[m,f]=(0,s.useState)(!0),x=(0,s.useRef)(null),h=async e=>{if(x.current!==e){x.current=e;try{let{data:r,error:t}=await i.supabase.from("users").select("id, email, full_name, role, gender, school, avatar_name, avatar_url").eq("id",e).single();if(t)throw t;r?d({id:r.id,email:r.email,full_name:r.full_name,role:r.role||"user",gender:r.gender||null,school:r.school||null,avatar_name:r.avatar_name||null,avatar_url:r.avatar_url||null}):d(null)}catch(e){console.error("Error fetching profile:",e),d(null)}finally{x.current=null}}},p=async()=>{t&&(x.current=null,await h(t.id))};(0,s.useEffect)(()=>{let e=!0,r=null;i.supabase.auth.getSession().then(t=>{var a,s,i;let{data:{session:n},error:o}=t;if(e){if(o){f(!1);return}u(n),l(null!==(s=null==n?void 0:n.user)&&void 0!==s?s:null),r=null!==(i=null==n?void 0:null===(a=n.user)||void 0===a?void 0:a.id)&&void 0!==i?i:null,(null==n?void 0:n.user)&&h(n.user.id),e&&f(!1)}});let{data:{subscription:t}}=i.supabase.auth.onAuthStateChange((t,a)=>{var s,i,n;if(!e)return;let o=null!==(i=null==a?void 0:null===(s=a.user)||void 0===s?void 0:s.id)&&void 0!==i?i:null;o!==r&&(u(a),l(null!==(n=null==a?void 0:a.user)&&void 0!==n?n:null),r=o,(null==a?void 0:a.user)?h(a.user.id):d(null))});return()=>{e=!1,t.unsubscribe()}},[]);let v=async()=>{await i.supabase.auth.signOut(),l(null),d(null),u(null),x.current=null};return(0,a.jsx)(n.Provider,{value:{user:t,profile:o,session:c,loading:m,signOut:v,refreshProfile:p},children:r})}},23554:function(e,r,t){"use strict";t.d(r,{u:function(){return a}});let a=["Covenant University, Ota","Babcock University, Ilishan-Remo","Bells University of Technology, Otta","American University of Nigeria, Yola","Bingham University, New Karu","Bowen University, Iwo","Igbinedion University, Okada","Landmark University, Omu-Aran","Lead City University, Ibadan","Madonna University, Okija","Redeemer's University, Ede","Pan-Atlantic University, Lagos","Afe Babalola University, Ado-Ekiti","Al-Hikmah University, Ilorin","Crescent University, Abeokuta","Elizade University, Ilara-Mokin","Joseph Ayo Babalola University, Ikeji-Arakeji","Micheal & Cecilia Ibru University","Oduduwa University, Ipetumodu","Veritas University, Abuja","ABTI-American University of Nigeria, Yola","Achievers University, Owo","Adeleke University, Ede","Augustine University, Ilara-Epe","Baze University, Abuja","Benson Idahosa University, Benin City","Caleb University, Lagos","Caritas University, Enugu","Chrisland University, Abeokuta","Christopher University, Mowe","Crawford University, Igbesa","Edwin Clark University, Kiagbodo","Evangel University, Akaeze","Fountain University, Oshogbo","Godfrey Okoye University, Ugwuomu-Nike","Gregory University, Uturu","Hallmark University, Ijebu-Itele","Hezekiah University, Umudi","Kings University, Ode-Omu","Kola Daisi University, Ibadan","McPherson University, Seriki Sotayo","Micheal & Cecilia Ibru University, Owhrode","Mountain Top University, Makogi/Ogun","Nigerian British University, Asa","Nigerian Turkish Nile University, Abuja","Novena University, Ogume","Obong University, Obong Ntak","Paul University, Awka","Precious Cornerstone University, Ibadan","Renaissance University, Enugu","Rhema University, Obeama-Asa","Ritman University, Ikot Ekpene","Salerno University, Lagos","Samuel Adegboyega University, Ogwa","Southwestern University, Okun Owa","Summit University, Offa","Tansian University, Umunya","University of Mkar, Mkar","Wellspring University, Irhirhi, Benin City","Wesley University, Ondo","Western Delta University, Oghara"]},5526:function(e,r,t){"use strict";t.d(r,{supabase:function(){return d}});var a,s,i=t(98280),n=t(40257);let l=(void 0!==n?null===(a=n.env)||void 0===a?void 0:"https://ynkvvjkokwwnqoujeznu.supabase.co":void 0)||"",o=(void 0!==n?null===(s=n.env)||void 0===s?void 0:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlua3Z2amtva3d3bnFvdWplem51Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjE2ODMsImV4cCI6MjA4NDMzNzY4M30.tVFWjO_kqz2iY3GpunHC78czG6Tb2Ikhl1HbVoINbCg":void 0)||"";if(!l||!o){let e="Missing Supabase environment variables. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in your .env.local file. (Note: In Next.js, client-side env vars must be prefixed with NEXT_PUBLIC_)";throw console.error(e),Error(e)}let d=(0,i.eI)(l,o,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}})},93448:function(e,r,t){"use strict";t.d(r,{cn:function(){return i}});var a=t(61994),s=t(53335);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}}},function(e){e.O(0,[3227,4182,2972,5506,2642,3850,758,5256,2893,6818,4677,5961,8361,2971,2117,1744],function(){return e(e.s=3736)}),_N_E=e.O()}]);